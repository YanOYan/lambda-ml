;; gorilla-repl.fileformat = 1

;; **
;;; # Lambda ML Example: Kaggle Titanic with Logistic Regression
;;; 
;;; An example of applying logistic regression to the data from the [Titanic: Machine Learning from Disaster](https://www.kaggle.com/c/titanic) competition from Kaggle.
;;; 
;;; First, lets set up our namespace and define a helper function for sanitizing data.
;; **

;; @@
(ns lambda-ml.examples.kaggle.titanic
  (require [lambda-ml.core :refer :all]
           [lambda-ml.metrics :refer :all]
           [lambda-ml.regression :refer :all]
           [clojure.data.csv :as csv]
           [gorilla-plot.core :as plot]))

(defn sanitize
  [s]
  (cond (number? s) s
        (clojure.string/blank? s) nil
        :else (read-string s)))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;lambda-ml.examples.kaggle.titanic/sanitize</span>","value":"#'lambda-ml.examples.kaggle.titanic/sanitize"}
;; <=

;; **
;;; Load the training data. Note that we're being arbitrarily selective about columns since we'll be using only a subset of the features.
;;; 
;;; The categorical features also need to be converted into indicator variables. For example, the passenger class feature ("pclass") becomes three features ("pclass1", "pclass2", and "pclass3"), where the value for "pclass1" is 1 if the passenger was in 1st class and 0 otherwise, and so on.
;; **

;; @@
(def train
  (with-open [in (clojure.java.io/reader "resources/examples/kaggle/titanic/train.csv")]
    (doall
     (->> (rest (csv/read-csv in))
          (map (fn [[id survival pclass name sex age sibsp parch ticket fare cabin embarked]]
                 (let [pclass1 (if (= pclass "1") 1 0)
                       pclass2 (if (= pclass "2") 1 0)
                       pclass3 (if (= pclass "3") 1 0)
                       male    (if (= sex "male") 1 0)]
                   (map sanitize [pclass1 pclass2 pclass3 male sibsp parch survival]))))))))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;lambda-ml.examples.kaggle.titanic/train</span>","value":"#'lambda-ml.examples.kaggle.titanic/train"}
;; <=

;; **
;;; Visualize the categorical features in the training data.
;; **

;; @@
(for [i [0 1 2 3]]
  (let [data (frequencies (map #(nth % i) train))]
    (plot/bar-chart (keys data) (vals data))))
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-lazy-seq'>(</span>","close":"<span class='clj-lazy-seq'>)</span>","separator":" ","items":[{"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"ordinal","range":"width","domain":{"data":"7c1d2841-35be-46ca-a97c-de55b10b01ab","field":"data.x"}},{"name":"y","range":"height","nice":true,"domain":{"data":"7c1d2841-35be-46ca-a97c-de55b10b01ab","field":"data.y"}}],"marks":[{"type":"rect","from":{"data":"7c1d2841-35be-46ca-a97c-de55b10b01ab"},"properties":{"enter":{"y":{"scale":"y","field":"data.y"},"width":{"offset":-1,"scale":"x","band":true},"x":{"scale":"x","field":"data.x"},"y2":{"scale":"y","value":0}},"update":{"fill":{"value":"steelblue"},"opacity":{"value":1}},"hover":{"fill":{"value":"#FF29D2"}}}}],"data":[{"name":"7c1d2841-35be-46ca-a97c-de55b10b01ab","values":[{"x":0,"y":675},{"x":1,"y":216}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":40,"top":10,"right":10,"left":55}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"ordinal\", :range \"width\", :domain {:data \"7c1d2841-35be-46ca-a97c-de55b10b01ab\", :field \"data.x\"}} {:name \"y\", :range \"height\", :nice true, :domain {:data \"7c1d2841-35be-46ca-a97c-de55b10b01ab\", :field \"data.y\"}}], :marks [{:type \"rect\", :from {:data \"7c1d2841-35be-46ca-a97c-de55b10b01ab\"}, :properties {:enter {:y {:scale \"y\", :field \"data.y\"}, :width {:offset -1, :scale \"x\", :band true}, :x {:scale \"x\", :field \"data.x\"}, :y2 {:scale \"y\", :value 0}}, :update {:fill {:value \"steelblue\"}, :opacity {:value 1}}, :hover {:fill {:value \"#FF29D2\"}}}}], :data [{:name \"7c1d2841-35be-46ca-a97c-de55b10b01ab\", :values ({:x 0, :y 675} {:x 1, :y 216})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}}"},{"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"ordinal","range":"width","domain":{"data":"e875847b-7dfb-494a-93e8-c10cdfd11799","field":"data.x"}},{"name":"y","range":"height","nice":true,"domain":{"data":"e875847b-7dfb-494a-93e8-c10cdfd11799","field":"data.y"}}],"marks":[{"type":"rect","from":{"data":"e875847b-7dfb-494a-93e8-c10cdfd11799"},"properties":{"enter":{"y":{"scale":"y","field":"data.y"},"width":{"offset":-1,"scale":"x","band":true},"x":{"scale":"x","field":"data.x"},"y2":{"scale":"y","value":0}},"update":{"fill":{"value":"steelblue"},"opacity":{"value":1}},"hover":{"fill":{"value":"#FF29D2"}}}}],"data":[{"name":"e875847b-7dfb-494a-93e8-c10cdfd11799","values":[{"x":0,"y":707},{"x":1,"y":184}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":40,"top":10,"right":10,"left":55}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"ordinal\", :range \"width\", :domain {:data \"e875847b-7dfb-494a-93e8-c10cdfd11799\", :field \"data.x\"}} {:name \"y\", :range \"height\", :nice true, :domain {:data \"e875847b-7dfb-494a-93e8-c10cdfd11799\", :field \"data.y\"}}], :marks [{:type \"rect\", :from {:data \"e875847b-7dfb-494a-93e8-c10cdfd11799\"}, :properties {:enter {:y {:scale \"y\", :field \"data.y\"}, :width {:offset -1, :scale \"x\", :band true}, :x {:scale \"x\", :field \"data.x\"}, :y2 {:scale \"y\", :value 0}}, :update {:fill {:value \"steelblue\"}, :opacity {:value 1}}, :hover {:fill {:value \"#FF29D2\"}}}}], :data [{:name \"e875847b-7dfb-494a-93e8-c10cdfd11799\", :values ({:x 0, :y 707} {:x 1, :y 184})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}}"},{"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"ordinal","range":"width","domain":{"data":"2a239b96-ca34-4ddb-8a41-e10aeabddb46","field":"data.x"}},{"name":"y","range":"height","nice":true,"domain":{"data":"2a239b96-ca34-4ddb-8a41-e10aeabddb46","field":"data.y"}}],"marks":[{"type":"rect","from":{"data":"2a239b96-ca34-4ddb-8a41-e10aeabddb46"},"properties":{"enter":{"y":{"scale":"y","field":"data.y"},"width":{"offset":-1,"scale":"x","band":true},"x":{"scale":"x","field":"data.x"},"y2":{"scale":"y","value":0}},"update":{"fill":{"value":"steelblue"},"opacity":{"value":1}},"hover":{"fill":{"value":"#FF29D2"}}}}],"data":[{"name":"2a239b96-ca34-4ddb-8a41-e10aeabddb46","values":[{"x":1,"y":491},{"x":0,"y":400}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":40,"top":10,"right":10,"left":55}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"ordinal\", :range \"width\", :domain {:data \"2a239b96-ca34-4ddb-8a41-e10aeabddb46\", :field \"data.x\"}} {:name \"y\", :range \"height\", :nice true, :domain {:data \"2a239b96-ca34-4ddb-8a41-e10aeabddb46\", :field \"data.y\"}}], :marks [{:type \"rect\", :from {:data \"2a239b96-ca34-4ddb-8a41-e10aeabddb46\"}, :properties {:enter {:y {:scale \"y\", :field \"data.y\"}, :width {:offset -1, :scale \"x\", :band true}, :x {:scale \"x\", :field \"data.x\"}, :y2 {:scale \"y\", :value 0}}, :update {:fill {:value \"steelblue\"}, :opacity {:value 1}}, :hover {:fill {:value \"#FF29D2\"}}}}], :data [{:name \"2a239b96-ca34-4ddb-8a41-e10aeabddb46\", :values ({:x 1, :y 491} {:x 0, :y 400})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}}"},{"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"ordinal","range":"width","domain":{"data":"d7c794eb-3a38-4cf1-82a4-62e07efbc82a","field":"data.x"}},{"name":"y","range":"height","nice":true,"domain":{"data":"d7c794eb-3a38-4cf1-82a4-62e07efbc82a","field":"data.y"}}],"marks":[{"type":"rect","from":{"data":"d7c794eb-3a38-4cf1-82a4-62e07efbc82a"},"properties":{"enter":{"y":{"scale":"y","field":"data.y"},"width":{"offset":-1,"scale":"x","band":true},"x":{"scale":"x","field":"data.x"},"y2":{"scale":"y","value":0}},"update":{"fill":{"value":"steelblue"},"opacity":{"value":1}},"hover":{"fill":{"value":"#FF29D2"}}}}],"data":[{"name":"d7c794eb-3a38-4cf1-82a4-62e07efbc82a","values":[{"x":1,"y":577},{"x":0,"y":314}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":40,"top":10,"right":10,"left":55}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"ordinal\", :range \"width\", :domain {:data \"d7c794eb-3a38-4cf1-82a4-62e07efbc82a\", :field \"data.x\"}} {:name \"y\", :range \"height\", :nice true, :domain {:data \"d7c794eb-3a38-4cf1-82a4-62e07efbc82a\", :field \"data.y\"}}], :marks [{:type \"rect\", :from {:data \"d7c794eb-3a38-4cf1-82a4-62e07efbc82a\"}, :properties {:enter {:y {:scale \"y\", :field \"data.y\"}, :width {:offset -1, :scale \"x\", :band true}, :x {:scale \"x\", :field \"data.x\"}, :y2 {:scale \"y\", :value 0}}, :update {:fill {:value \"steelblue\"}, :opacity {:value 1}}, :hover {:fill {:value \"#FF29D2\"}}}}], :data [{:name \"d7c794eb-3a38-4cf1-82a4-62e07efbc82a\", :values ({:x 1, :y 577} {:x 0, :y 314})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}}"}],"value":"(#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"ordinal\", :range \"width\", :domain {:data \"7c1d2841-35be-46ca-a97c-de55b10b01ab\", :field \"data.x\"}} {:name \"y\", :range \"height\", :nice true, :domain {:data \"7c1d2841-35be-46ca-a97c-de55b10b01ab\", :field \"data.y\"}}], :marks [{:type \"rect\", :from {:data \"7c1d2841-35be-46ca-a97c-de55b10b01ab\"}, :properties {:enter {:y {:scale \"y\", :field \"data.y\"}, :width {:offset -1, :scale \"x\", :band true}, :x {:scale \"x\", :field \"data.x\"}, :y2 {:scale \"y\", :value 0}}, :update {:fill {:value \"steelblue\"}, :opacity {:value 1}}, :hover {:fill {:value \"#FF29D2\"}}}}], :data [{:name \"7c1d2841-35be-46ca-a97c-de55b10b01ab\", :values ({:x 0, :y 675} {:x 1, :y 216})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}} #gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"ordinal\", :range \"width\", :domain {:data \"e875847b-7dfb-494a-93e8-c10cdfd11799\", :field \"data.x\"}} {:name \"y\", :range \"height\", :nice true, :domain {:data \"e875847b-7dfb-494a-93e8-c10cdfd11799\", :field \"data.y\"}}], :marks [{:type \"rect\", :from {:data \"e875847b-7dfb-494a-93e8-c10cdfd11799\"}, :properties {:enter {:y {:scale \"y\", :field \"data.y\"}, :width {:offset -1, :scale \"x\", :band true}, :x {:scale \"x\", :field \"data.x\"}, :y2 {:scale \"y\", :value 0}}, :update {:fill {:value \"steelblue\"}, :opacity {:value 1}}, :hover {:fill {:value \"#FF29D2\"}}}}], :data [{:name \"e875847b-7dfb-494a-93e8-c10cdfd11799\", :values ({:x 0, :y 707} {:x 1, :y 184})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}} #gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"ordinal\", :range \"width\", :domain {:data \"2a239b96-ca34-4ddb-8a41-e10aeabddb46\", :field \"data.x\"}} {:name \"y\", :range \"height\", :nice true, :domain {:data \"2a239b96-ca34-4ddb-8a41-e10aeabddb46\", :field \"data.y\"}}], :marks [{:type \"rect\", :from {:data \"2a239b96-ca34-4ddb-8a41-e10aeabddb46\"}, :properties {:enter {:y {:scale \"y\", :field \"data.y\"}, :width {:offset -1, :scale \"x\", :band true}, :x {:scale \"x\", :field \"data.x\"}, :y2 {:scale \"y\", :value 0}}, :update {:fill {:value \"steelblue\"}, :opacity {:value 1}}, :hover {:fill {:value \"#FF29D2\"}}}}], :data [{:name \"2a239b96-ca34-4ddb-8a41-e10aeabddb46\", :values ({:x 1, :y 491} {:x 0, :y 400})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}} #gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"ordinal\", :range \"width\", :domain {:data \"d7c794eb-3a38-4cf1-82a4-62e07efbc82a\", :field \"data.x\"}} {:name \"y\", :range \"height\", :nice true, :domain {:data \"d7c794eb-3a38-4cf1-82a4-62e07efbc82a\", :field \"data.y\"}}], :marks [{:type \"rect\", :from {:data \"d7c794eb-3a38-4cf1-82a4-62e07efbc82a\"}, :properties {:enter {:y {:scale \"y\", :field \"data.y\"}, :width {:offset -1, :scale \"x\", :band true}, :x {:scale \"x\", :field \"data.x\"}, :y2 {:scale \"y\", :value 0}}, :update {:fill {:value \"steelblue\"}, :opacity {:value 1}}, :hover {:fill {:value \"#FF29D2\"}}}}], :data [{:name \"d7c794eb-3a38-4cf1-82a4-62e07efbc82a\", :values ({:x 1, :y 577} {:x 0, :y 314})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}})"}
;; <=

;; **
;;; Visualize the numerical features in the training data.
;; **

;; @@
(for [i [4 5]]
  (plot/histogram (map #(nth % i) train)))
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-lazy-seq'>(</span>","close":"<span class='clj-lazy-seq'>)</span>","separator":" ","items":[{"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"f7269321-4c74-46f2-935d-74daf17bda1c","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"f7269321-4c74-46f2-935d-74daf17bda1c","field":"data.y"}}],"marks":[{"type":"line","from":{"data":"f7269321-4c74-46f2-935d-74daf17bda1c"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"interpolate":{"value":"step-before"},"fill":{"value":"steelblue"},"fillOpacity":{"value":0.4},"stroke":{"value":"steelblue"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}}],"data":[{"name":"f7269321-4c74-46f2-935d-74daf17bda1c","values":[{"x":0.0,"y":0},{"x":0.7272727272727274,"y":608.0},{"x":1.4545454545454548,"y":209.0},{"x":2.181818181818182,"y":28.0},{"x":2.9090909090909096,"y":0.0},{"x":3.636363636363637,"y":16.0},{"x":4.363636363636364,"y":18.0},{"x":5.090909090909092,"y":5.0},{"x":5.818181818181819,"y":0.0},{"x":6.545454545454547,"y":0.0},{"x":7.272727272727274,"y":0.0},{"x":8.000000000000002,"y":7.0},{"x":8.727272727272728,"y":0}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":40,"top":10,"right":10,"left":55}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"f7269321-4c74-46f2-935d-74daf17bda1c\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"f7269321-4c74-46f2-935d-74daf17bda1c\", :field \"data.y\"}}], :marks [{:type \"line\", :from {:data \"f7269321-4c74-46f2-935d-74daf17bda1c\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :interpolate {:value \"step-before\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 0.4}, :stroke {:value \"steelblue\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}}], :data [{:name \"f7269321-4c74-46f2-935d-74daf17bda1c\", :values ({:x 0.0, :y 0} {:x 0.7272727272727274, :y 608.0} {:x 1.4545454545454548, :y 209.0} {:x 2.181818181818182, :y 28.0} {:x 2.9090909090909096, :y 0.0} {:x 3.636363636363637, :y 16.0} {:x 4.363636363636364, :y 18.0} {:x 5.090909090909092, :y 5.0} {:x 5.818181818181819, :y 0.0} {:x 6.545454545454547, :y 0.0} {:x 7.272727272727274, :y 0.0} {:x 8.000000000000002, :y 7.0} {:x 8.727272727272728, :y 0})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}}"},{"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"315393e1-8620-4f3c-9feb-a29d65247b94","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"315393e1-8620-4f3c-9feb-a29d65247b94","field":"data.y"}}],"marks":[{"type":"line","from":{"data":"315393e1-8620-4f3c-9feb-a29d65247b94"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"interpolate":{"value":"step-before"},"fill":{"value":"steelblue"},"fillOpacity":{"value":0.4},"stroke":{"value":"steelblue"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}}],"data":[{"name":"315393e1-8620-4f3c-9feb-a29d65247b94","values":[{"x":0.0,"y":0},{"x":0.5454545454545455,"y":678.0},{"x":1.090909090909091,"y":118.0},{"x":1.6363636363636367,"y":0.0},{"x":2.181818181818182,"y":80.0},{"x":2.7272727272727275,"y":0.0},{"x":3.272727272727273,"y":5.0},{"x":3.8181818181818183,"y":0.0},{"x":4.363636363636364,"y":4.0},{"x":4.90909090909091,"y":0.0},{"x":5.454545454545456,"y":5.0},{"x":6.000000000000002,"y":1.0},{"x":6.545454545454548,"y":0}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":40,"top":10,"right":10,"left":55}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"315393e1-8620-4f3c-9feb-a29d65247b94\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"315393e1-8620-4f3c-9feb-a29d65247b94\", :field \"data.y\"}}], :marks [{:type \"line\", :from {:data \"315393e1-8620-4f3c-9feb-a29d65247b94\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :interpolate {:value \"step-before\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 0.4}, :stroke {:value \"steelblue\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}}], :data [{:name \"315393e1-8620-4f3c-9feb-a29d65247b94\", :values ({:x 0.0, :y 0} {:x 0.5454545454545455, :y 678.0} {:x 1.090909090909091, :y 118.0} {:x 1.6363636363636367, :y 0.0} {:x 2.181818181818182, :y 80.0} {:x 2.7272727272727275, :y 0.0} {:x 3.272727272727273, :y 5.0} {:x 3.8181818181818183, :y 0.0} {:x 4.363636363636364, :y 4.0} {:x 4.90909090909091, :y 0.0} {:x 5.454545454545456, :y 5.0} {:x 6.000000000000002, :y 1.0} {:x 6.545454545454548, :y 0})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}}"}],"value":"(#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"f7269321-4c74-46f2-935d-74daf17bda1c\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"f7269321-4c74-46f2-935d-74daf17bda1c\", :field \"data.y\"}}], :marks [{:type \"line\", :from {:data \"f7269321-4c74-46f2-935d-74daf17bda1c\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :interpolate {:value \"step-before\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 0.4}, :stroke {:value \"steelblue\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}}], :data [{:name \"f7269321-4c74-46f2-935d-74daf17bda1c\", :values ({:x 0.0, :y 0} {:x 0.7272727272727274, :y 608.0} {:x 1.4545454545454548, :y 209.0} {:x 2.181818181818182, :y 28.0} {:x 2.9090909090909096, :y 0.0} {:x 3.636363636363637, :y 16.0} {:x 4.363636363636364, :y 18.0} {:x 5.090909090909092, :y 5.0} {:x 5.818181818181819, :y 0.0} {:x 6.545454545454547, :y 0.0} {:x 7.272727272727274, :y 0.0} {:x 8.000000000000002, :y 7.0} {:x 8.727272727272728, :y 0})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}} #gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"315393e1-8620-4f3c-9feb-a29d65247b94\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"315393e1-8620-4f3c-9feb-a29d65247b94\", :field \"data.y\"}}], :marks [{:type \"line\", :from {:data \"315393e1-8620-4f3c-9feb-a29d65247b94\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :interpolate {:value \"step-before\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 0.4}, :stroke {:value \"steelblue\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}}], :data [{:name \"315393e1-8620-4f3c-9feb-a29d65247b94\", :values ({:x 0.0, :y 0} {:x 0.5454545454545455, :y 678.0} {:x 1.090909090909091, :y 118.0} {:x 1.6363636363636367, :y 0.0} {:x 2.181818181818182, :y 80.0} {:x 2.7272727272727275, :y 0.0} {:x 3.272727272727273, :y 5.0} {:x 3.8181818181818183, :y 0.0} {:x 4.363636363636364, :y 4.0} {:x 4.90909090909091, :y 0.0} {:x 5.454545454545456, :y 5.0} {:x 6.000000000000002, :y 1.0} {:x 6.545454545454548, :y 0})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}})"}
;; <=

;; **
;;; Load the test data, which is structured slightly differently since we'll be making predictions on this data
;; **

;; @@
(def test
  (with-open [in (clojure.java.io/reader "resources/examples/kaggle/titanic/test.csv")]
    (doall
     (->> (rest (csv/read-csv in))
          (map (fn [[id pclass name sex age sibsp parch ticket fare cabin embarked]]
                 (let [pclass1 (if (= pclass "1") 1 0)
                       pclass2 (if (= pclass "2") 1 0)
                       pclass3 (if (= pclass "3") 1 0)
                       male    (if (= sex "male") 1 0)]
                   (cons id (map sanitize [pclass1 pclass2 pclass3 male sibsp parch])))))))))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;lambda-ml.examples.kaggle.titanic/test</span>","value":"#'lambda-ml.examples.kaggle.titanic/test"}
;; <=

;; **
;;; Define parameters and use k-fold cross validation to train logistic regression models.
;; **

;; @@
(def alpha 0.01)
(def lambda 0.1)
(def iters 200)

(def k 4)
(def colors ["red" "green" "blue" "black"])
(def partitions (random-partition k train))

(let [rocs (for [fold (range k)]
              (let [train-sample (->> partitions
                                      (keep-indexed #(if (not (= fold %1)) %2))
                                      (apply concat))
                    test-sample (nth partitions fold)
                    model (regression-fit (make-logistic-regression alpha lambda iters) train-sample)
                    predictions (regression-predict model (map butlast test-sample))]
                (roc-curve (map last test-sample) predictions)))]
  (println (map (comp float auc) rocs))
  (->> (map (fn [roc color] (plot/list-plot roc :joined true :color color)) rocs colors)
       (apply plot/compose)))
;; @@
;; ->
;;; (0.75836235 0.71707356 0.6848433 0.6268785)
;;; 
;; <-
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"bottom":40,"top":10,"right":10,"left":55},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"5ef150bb-afdd-44c0-b23c-94f46373db5c","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"5ef150bb-afdd-44c0-b23c-94f46373db5c","field":"data.y"}}],"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"data":[{"name":"5ef150bb-afdd-44c0-b23c-94f46373db5c","values":[{"x":0,"y":0.01219512195121951},{"x":0.007142857142857143,"y":0.01219512195121951},{"x":0.01428571428571429,"y":0.01219512195121951},{"x":0.02142857142857143,"y":0.01219512195121951},{"x":0.02142857142857143,"y":0.02439024390243902},{"x":0.02142857142857143,"y":0.03658536585365854},{"x":0.02142857142857143,"y":0.04878048780487805},{"x":0.02142857142857143,"y":0.06097560975609756},{"x":0.02142857142857143,"y":0.07317073170731707},{"x":0.02857142857142857,"y":0.07317073170731707},{"x":0.02857142857142857,"y":0.08536585365853659},{"x":0.03571428571428571,"y":0.08536585365853659},{"x":0.04285714285714286,"y":0.08536585365853659},{"x":0.04285714285714286,"y":0.0975609756097561},{"x":0.04285714285714286,"y":0.1097560975609756},{"x":0.04285714285714286,"y":0.1219512195121951},{"x":0.04285714285714286,"y":0.1341463414634146},{"x":0.04285714285714286,"y":0.1463414634146341},{"x":0.04285714285714286,"y":0.1585365853658537},{"x":0.04285714285714286,"y":0.1707317073170732},{"x":0.04285714285714286,"y":0.1829268292682927},{"x":0.04285714285714286,"y":0.1951219512195122},{"x":0.04285714285714286,"y":0.2073170731707317},{"x":0.04285714285714286,"y":0.2195121951219512},{"x":0.04285714285714286,"y":0.2317073170731707},{"x":0.04285714285714286,"y":0.2439024390243902},{"x":0.05,"y":0.2439024390243902},{"x":0.05,"y":0.2560975609756098},{"x":0.05,"y":0.2682926829268293},{"x":0.05,"y":0.2804878048780488},{"x":0.05,"y":0.2926829268292683},{"x":0.05,"y":0.3048780487804878},{"x":0.05,"y":0.3170731707317073},{"x":0.05,"y":0.3292682926829268},{"x":0.05,"y":0.3414634146341463},{"x":0.05,"y":0.3536585365853659},{"x":0.05,"y":0.3658536585365854},{"x":0.05,"y":0.3780487804878049},{"x":0.05,"y":0.3902439024390244},{"x":0.05,"y":0.4024390243902439},{"x":0.05,"y":0.4146341463414634},{"x":0.05,"y":0.4268292682926829},{"x":0.05,"y":0.4390243902439024},{"x":0.05714285714285714,"y":0.4390243902439024},{"x":0.05714285714285714,"y":0.451219512195122},{"x":0.0642857142857143,"y":0.451219512195122},{"x":0.07142857142857142,"y":0.451219512195122},{"x":0.07857142857142857,"y":0.451219512195122},{"x":0.08571428571428572,"y":0.451219512195122},{"x":0.09285714285714286,"y":0.451219512195122},{"x":0.1,"y":0.451219512195122},{"x":0.1071428571428571,"y":0.451219512195122},{"x":0.1071428571428571,"y":0.4634146341463415},{"x":0.1071428571428571,"y":0.475609756097561},{"x":0.1142857142857143,"y":0.475609756097561},{"x":0.1214285714285714,"y":0.475609756097561},{"x":0.1285714285714286,"y":0.475609756097561},{"x":0.1357142857142857,"y":0.475609756097561},{"x":0.1428571428571429,"y":0.475609756097561},{"x":0.1428571428571429,"y":0.4878048780487805},{"x":0.1428571428571429,"y":0.5},{"x":0.15,"y":0.5},{"x":0.15,"y":0.5121951219512195},{"x":0.1571428571428571,"y":0.5121951219512195},{"x":0.1571428571428571,"y":0.524390243902439},{"x":0.1571428571428571,"y":0.5365853658536585},{"x":0.1571428571428571,"y":0.548780487804878},{"x":0.1642857142857143,"y":0.548780487804878},{"x":0.1714285714285714,"y":0.548780487804878},{"x":0.1714285714285714,"y":0.5609756097560976},{"x":0.1714285714285714,"y":0.5731707317073171},{"x":0.1714285714285714,"y":0.5853658536585366},{"x":0.1714285714285714,"y":0.5975609756097561},{"x":0.1714285714285714,"y":0.6097560975609756},{"x":0.1785714285714286,"y":0.6097560975609756},{"x":0.1785714285714286,"y":0.6219512195121951},{"x":0.1857142857142857,"y":0.6219512195121951},{"x":0.1857142857142857,"y":0.6341463414634146},{"x":0.1928571428571429,"y":0.6341463414634146},{"x":0.2,"y":0.6341463414634146},{"x":0.2071428571428571,"y":0.6341463414634146},{"x":0.2142857142857143,"y":0.6341463414634146},{"x":0.2214285714285714,"y":0.6341463414634146},{"x":0.2285714285714286,"y":0.6341463414634146},{"x":0.2357142857142857,"y":0.6341463414634146},{"x":0.2357142857142857,"y":0.646341463414634},{"x":0.2428571428571429,"y":0.646341463414634},{"x":0.25,"y":0.646341463414634},{"x":0.2571428571428571,"y":0.646341463414634},{"x":0.2571428571428571,"y":0.6585365853658537},{"x":0.2642857142857143,"y":0.6585365853658537},{"x":0.2714285714285714,"y":0.6585365853658537},{"x":0.2785714285714286,"y":0.6585365853658537},{"x":0.2857142857142857,"y":0.6585365853658537},{"x":0.2928571428571429,"y":0.6585365853658537},{"x":0.3,"y":0.6585365853658537},{"x":0.3071428571428571,"y":0.6585365853658537},{"x":0.3142857142857143,"y":0.6585365853658537},{"x":0.3214285714285714,"y":0.6585365853658537},{"x":0.3285714285714286,"y":0.6585365853658537},{"x":0.3357142857142857,"y":0.6585365853658537},{"x":0.3357142857142857,"y":0.6707317073170732},{"x":0.3357142857142857,"y":0.6829268292682927},{"x":0.3428571428571429,"y":0.6829268292682927},{"x":0.35,"y":0.6829268292682927},{"x":0.35,"y":0.6951219512195121},{"x":0.35,"y":0.7073170731707317},{"x":0.35,"y":0.7195121951219512},{"x":0.35,"y":0.7317073170731707},{"x":0.3571428571428571,"y":0.7317073170731707},{"x":0.3571428571428571,"y":0.7439024390243902},{"x":0.3642857142857143,"y":0.7439024390243902},{"x":0.3714285714285714,"y":0.7439024390243902},{"x":0.3785714285714286,"y":0.7439024390243902},{"x":0.3785714285714286,"y":0.7560975609756098},{"x":0.3857142857142857,"y":0.7560975609756098},{"x":0.3857142857142857,"y":0.7682926829268293},{"x":0.3857142857142857,"y":0.7804878048780488},{"x":0.3857142857142857,"y":0.7926829268292683},{"x":0.3928571428571429,"y":0.7926829268292683},{"x":0.4,"y":0.7926829268292683},{"x":0.4,"y":0.8048780487804879},{"x":0.4071428571428571,"y":0.8048780487804879},{"x":0.4142857142857143,"y":0.8048780487804879},{"x":0.4142857142857143,"y":0.8170731707317073},{"x":0.4142857142857143,"y":0.8292682926829268},{"x":0.4214285714285714,"y":0.8292682926829268},{"x":0.4214285714285714,"y":0.8414634146341463},{"x":0.4214285714285714,"y":0.853658536585366},{"x":0.4285714285714286,"y":0.853658536585366},{"x":0.4285714285714286,"y":0.8658536585365854},{"x":0.4357142857142857,"y":0.8658536585365854},{"x":0.4428571428571429,"y":0.8658536585365854},{"x":0.45,"y":0.8658536585365854},{"x":0.4571428571428571,"y":0.8658536585365854},{"x":0.4642857142857143,"y":0.8658536585365854},{"x":0.4714285714285714,"y":0.8658536585365854},{"x":0.4785714285714286,"y":0.8658536585365854},{"x":0.4857142857142857,"y":0.8658536585365854},{"x":0.4928571428571429,"y":0.8658536585365854},{"x":0.5,"y":0.8658536585365854},{"x":0.5071428571428571,"y":0.8658536585365854},{"x":0.5071428571428571,"y":0.8780487804878049},{"x":0.5142857142857143,"y":0.8780487804878049},{"x":0.5214285714285714,"y":0.8780487804878049},{"x":0.5285714285714286,"y":0.8780487804878049},{"x":0.5357142857142857,"y":0.8780487804878049},{"x":0.5428571428571429,"y":0.8780487804878049},{"x":0.55,"y":0.8780487804878049},{"x":0.557142857142857,"y":0.8780487804878049},{"x":0.5642857142857143,"y":0.8780487804878049},{"x":0.5714285714285714,"y":0.8780487804878049},{"x":0.5785714285714286,"y":0.8780487804878049},{"x":0.5857142857142857,"y":0.8780487804878049},{"x":0.5928571428571429,"y":0.8780487804878049},{"x":0.6,"y":0.8780487804878049},{"x":0.6071428571428571,"y":0.8780487804878049},{"x":0.6142857142857143,"y":0.8780487804878049},{"x":0.6214285714285714,"y":0.8780487804878049},{"x":0.6285714285714286,"y":0.8780487804878049},{"x":0.6357142857142857,"y":0.8780487804878049},{"x":0.6428571428571429,"y":0.8780487804878049},{"x":0.65,"y":0.8780487804878049},{"x":0.6571428571428571,"y":0.8780487804878049},{"x":0.6642857142857143,"y":0.8780487804878049},{"x":0.6714285714285714,"y":0.8780487804878049},{"x":0.6785714285714286,"y":0.8780487804878049},{"x":0.6857142857142857,"y":0.8780487804878049},{"x":0.6857142857142857,"y":0.8902439024390244},{"x":0.692857142857143,"y":0.8902439024390244},{"x":0.7,"y":0.8902439024390244},{"x":0.7071428571428571,"y":0.8902439024390244},{"x":0.7071428571428571,"y":0.9024390243902439},{"x":0.7071428571428571,"y":0.9146341463414634},{"x":0.7142857142857143,"y":0.9146341463414634},{"x":0.7214285714285714,"y":0.9146341463414634},{"x":0.7285714285714286,"y":0.9146341463414634},{"x":0.7357142857142857,"y":0.9146341463414634},{"x":0.7428571428571429,"y":0.9146341463414634},{"x":0.75,"y":0.9146341463414634},{"x":0.7571428571428571,"y":0.9146341463414634},{"x":0.7642857142857143,"y":0.9146341463414634},{"x":0.7714285714285714,"y":0.9146341463414634},{"x":0.7785714285714286,"y":0.9146341463414634},{"x":0.7857142857142857,"y":0.9146341463414634},{"x":0.7928571428571429,"y":0.9146341463414634},{"x":0.8,"y":0.9146341463414634},{"x":0.807142857142857,"y":0.9146341463414634},{"x":0.8142857142857143,"y":0.9146341463414634},{"x":0.8214285714285714,"y":0.9146341463414634},{"x":0.8285714285714286,"y":0.9146341463414634},{"x":0.8357142857142857,"y":0.9146341463414634},{"x":0.8428571428571429,"y":0.9146341463414634},{"x":0.85,"y":0.9146341463414634},{"x":0.85,"y":0.9268292682926829},{"x":0.8571428571428571,"y":0.9268292682926829},{"x":0.8642857142857143,"y":0.9268292682926829},{"x":0.8642857142857143,"y":0.9390243902439024},{"x":0.8714285714285714,"y":0.9390243902439024},{"x":0.8785714285714286,"y":0.9390243902439024},{"x":0.8857142857142857,"y":0.9390243902439024},{"x":0.8928571428571429,"y":0.9390243902439024},{"x":0.9,"y":0.9390243902439024},{"x":0.9,"y":0.951219512195122},{"x":0.9071428571428571,"y":0.951219512195122},{"x":0.9142857142857143,"y":0.951219512195122},{"x":0.9142857142857143,"y":0.9634146341463415},{"x":0.9214285714285714,"y":0.9634146341463415},{"x":0.9285714285714286,"y":0.9634146341463415},{"x":0.9285714285714286,"y":0.975609756097561},{"x":0.9357142857142857,"y":0.975609756097561},{"x":0.942857142857143,"y":0.975609756097561},{"x":0.95,"y":0.975609756097561},{"x":0.95,"y":0.9878048780487805},{"x":0.95,"y":1},{"x":0.9571428571428571,"y":1},{"x":0.9642857142857143,"y":1},{"x":0.9714285714285714,"y":1},{"x":0.9785714285714286,"y":1},{"x":0.9857142857142857,"y":1},{"x":0.9928571428571429,"y":1},{"x":1,"y":1}]},{"name":"95f953f9-cef1-4cb1-b4ec-528709c52039","values":[{"x":0.007518796992481203,"y":0},{"x":0.01503759398496241,"y":0},{"x":0.02255639097744361,"y":0},{"x":0.03007518796992481,"y":0},{"x":0.03759398496240602,"y":0},{"x":0.03759398496240602,"y":0.01123595505617978},{"x":0.03759398496240602,"y":0.02247191011235955},{"x":0.04511278195488722,"y":0.02247191011235955},{"x":0.04511278195488722,"y":0.03370786516853933},{"x":0.04511278195488722,"y":0.0449438202247191},{"x":0.04511278195488722,"y":0.05617977528089888},{"x":0.05263157894736842,"y":0.05617977528089888},{"x":0.05263157894736842,"y":0.06741573033707865},{"x":0.05263157894736842,"y":0.07865168539325842},{"x":0.06015037593984962,"y":0.07865168539325842},{"x":0.06015037593984962,"y":0.0898876404494382},{"x":0.06766917293233082,"y":0.0898876404494382},{"x":0.07518796992481203,"y":0.0898876404494382},{"x":0.07518796992481203,"y":0.101123595505618},{"x":0.08270676691729323,"y":0.101123595505618},{"x":0.09022556390977444,"y":0.101123595505618},{"x":0.09774436090225563,"y":0.101123595505618},{"x":0.1052631578947368,"y":0.101123595505618},{"x":0.112781954887218,"y":0.101123595505618},{"x":0.112781954887218,"y":0.1123595505617978},{"x":0.112781954887218,"y":0.1235955056179775},{"x":0.112781954887218,"y":0.1348314606741573},{"x":0.112781954887218,"y":0.1460674157303371},{"x":0.112781954887218,"y":0.1573033707865169},{"x":0.112781954887218,"y":0.1685393258426966},{"x":0.1203007518796992,"y":0.1685393258426966},{"x":0.1203007518796992,"y":0.1797752808988764},{"x":0.1203007518796992,"y":0.1910112359550562},{"x":0.1203007518796992,"y":0.202247191011236},{"x":0.1203007518796992,"y":0.2134831460674157},{"x":0.1203007518796992,"y":0.2247191011235955},{"x":0.1278195488721805,"y":0.2247191011235955},{"x":0.1353383458646617,"y":0.2247191011235955},{"x":0.1353383458646617,"y":0.2359550561797753},{"x":0.1353383458646617,"y":0.2471910112359551},{"x":0.1353383458646617,"y":0.2584269662921348},{"x":0.1353383458646617,"y":0.2696629213483146},{"x":0.1428571428571429,"y":0.2696629213483146},{"x":0.1428571428571429,"y":0.2808988764044944},{"x":0.1428571428571429,"y":0.2921348314606742},{"x":0.1503759398496241,"y":0.2921348314606742},{"x":0.1503759398496241,"y":0.3033707865168539},{"x":0.1503759398496241,"y":0.3146067415730337},{"x":0.1578947368421053,"y":0.3146067415730337},{"x":0.1578947368421053,"y":0.3258426966292135},{"x":0.1578947368421053,"y":0.3370786516853933},{"x":0.1578947368421053,"y":0.348314606741573},{"x":0.1578947368421053,"y":0.3595505617977528},{"x":0.1578947368421053,"y":0.3707865168539326},{"x":0.1578947368421053,"y":0.3820224719101124},{"x":0.1578947368421053,"y":0.3932584269662921},{"x":0.1578947368421053,"y":0.4044943820224719},{"x":0.1578947368421053,"y":0.4157303370786517},{"x":0.1578947368421053,"y":0.4269662921348315},{"x":0.1578947368421053,"y":0.4382022471910112},{"x":0.1578947368421053,"y":0.449438202247191},{"x":0.1578947368421053,"y":0.4606741573033708},{"x":0.1578947368421053,"y":0.4719101123595506},{"x":0.1578947368421053,"y":0.4831460674157303},{"x":0.1654135338345865,"y":0.4831460674157303},{"x":0.1729323308270677,"y":0.4831460674157303},{"x":0.1804511278195489,"y":0.4831460674157303},{"x":0.1879699248120301,"y":0.4831460674157303},{"x":0.1954887218045113,"y":0.4831460674157303},{"x":0.2030075187969925,"y":0.4831460674157303},{"x":0.2105263157894737,"y":0.4831460674157303},{"x":0.2180451127819549,"y":0.4831460674157303},{"x":0.2255639097744361,"y":0.4831460674157303},{"x":0.2255639097744361,"y":0.4943820224719101},{"x":0.2255639097744361,"y":0.5056179775280899},{"x":0.2330827067669173,"y":0.5056179775280899},{"x":0.2330827067669173,"y":0.5168539325842697},{"x":0.2406015037593985,"y":0.5168539325842697},{"x":0.2406015037593985,"y":0.5280898876404494},{"x":0.2481203007518797,"y":0.5280898876404494},{"x":0.2481203007518797,"y":0.5393258426966292},{"x":0.2481203007518797,"y":0.550561797752809},{"x":0.2481203007518797,"y":0.5617977528089888},{"x":0.2481203007518797,"y":0.5730337078651685},{"x":0.2481203007518797,"y":0.5842696629213483},{"x":0.2481203007518797,"y":0.5955056179775281},{"x":0.2481203007518797,"y":0.6067415730337079},{"x":0.2556390977443609,"y":0.6067415730337079},{"x":0.2631578947368421,"y":0.6067415730337079},{"x":0.2706766917293233,"y":0.6067415730337079},{"x":0.2781954887218045,"y":0.6067415730337079},{"x":0.2857142857142857,"y":0.6067415730337079},{"x":0.2932330827067669,"y":0.6067415730337079},{"x":0.3007518796992481,"y":0.6067415730337079},{"x":0.3082706766917293,"y":0.6067415730337079},{"x":0.3157894736842105,"y":0.6067415730337079},{"x":0.3233082706766917,"y":0.6067415730337079},{"x":0.3308270676691729,"y":0.6067415730337079},{"x":0.3383458646616541,"y":0.6067415730337079},{"x":0.3458646616541353,"y":0.6067415730337079},{"x":0.3458646616541353,"y":0.6179775280898876},{"x":0.3458646616541353,"y":0.6292134831460674},{"x":0.3458646616541353,"y":0.6404494382022472},{"x":0.3458646616541353,"y":0.651685393258427},{"x":0.3458646616541353,"y":0.6629213483146067},{"x":0.3533834586466165,"y":0.6629213483146067},{"x":0.3533834586466165,"y":0.6741573033707865},{"x":0.3533834586466165,"y":0.6853932584269663},{"x":0.3533834586466165,"y":0.6966292134831461},{"x":0.3609022556390977,"y":0.6966292134831461},{"x":0.3609022556390977,"y":0.7078651685393258},{"x":0.3609022556390977,"y":0.7191011235955056},{"x":0.3684210526315789,"y":0.7191011235955056},{"x":0.3684210526315789,"y":0.7303370786516854},{"x":0.3759398496240602,"y":0.7303370786516854},{"x":0.3834586466165414,"y":0.7303370786516854},{"x":0.3909774436090226,"y":0.7303370786516854},{"x":0.3984962406015038,"y":0.7303370786516854},{"x":0.3984962406015038,"y":0.7415730337078652},{"x":0.406015037593985,"y":0.7415730337078652},{"x":0.406015037593985,"y":0.7528089887640449},{"x":0.406015037593985,"y":0.7640449438202247},{"x":0.406015037593985,"y":0.7752808988764045},{"x":0.406015037593985,"y":0.7865168539325843},{"x":0.4135338345864662,"y":0.7865168539325843},{"x":0.4135338345864662,"y":0.797752808988764},{"x":0.4210526315789474,"y":0.797752808988764},{"x":0.4210526315789474,"y":0.8089887640449438},{"x":0.4285714285714286,"y":0.8089887640449438},{"x":0.4360902255639098,"y":0.8089887640449438},{"x":0.443609022556391,"y":0.8089887640449438},{"x":0.4511278195488722,"y":0.8089887640449438},{"x":0.4511278195488722,"y":0.8202247191011236},{"x":0.4586466165413534,"y":0.8202247191011236},{"x":0.4661654135338346,"y":0.8202247191011236},{"x":0.4736842105263158,"y":0.8202247191011236},{"x":0.481203007518797,"y":0.8202247191011236},{"x":0.4887218045112782,"y":0.8202247191011236},{"x":0.4887218045112782,"y":0.8314606741573034},{"x":0.4887218045112782,"y":0.8426966292134831},{"x":0.4962406015037594,"y":0.8426966292134831},{"x":0.5037593984962406,"y":0.8426966292134831},{"x":0.5037593984962406,"y":0.8539325842696629},{"x":0.5112781954887218,"y":0.8539325842696629},{"x":0.5112781954887218,"y":0.8651685393258427},{"x":0.518796992481203,"y":0.8651685393258427},{"x":0.5263157894736842,"y":0.8651685393258427},{"x":0.5338345864661654,"y":0.8651685393258427},{"x":0.5338345864661654,"y":0.8764044943820225},{"x":0.5413533834586466,"y":0.8764044943820225},{"x":0.5413533834586466,"y":0.8876404494382022},{"x":0.5413533834586466,"y":0.898876404494382},{"x":0.5488721804511278,"y":0.898876404494382},{"x":0.556390977443609,"y":0.898876404494382},{"x":0.556390977443609,"y":0.9101123595505618},{"x":0.5639097744360902,"y":0.9101123595505618},{"x":0.5714285714285714,"y":0.9101123595505618},{"x":0.5714285714285714,"y":0.9213483146067416},{"x":0.5789473684210527,"y":0.9213483146067416},{"x":0.5864661654135338,"y":0.9213483146067416},{"x":0.593984962406015,"y":0.9213483146067416},{"x":0.6015037593984962,"y":0.9213483146067416},{"x":0.6090225563909774,"y":0.9213483146067416},{"x":0.6165413533834586,"y":0.9213483146067416},{"x":0.6240601503759398,"y":0.9213483146067416},{"x":0.6315789473684211,"y":0.9213483146067416},{"x":0.6390977443609023,"y":0.9213483146067416},{"x":0.6466165413533835,"y":0.9213483146067416},{"x":0.6466165413533835,"y":0.9325842696629213},{"x":0.6541353383458647,"y":0.9325842696629213},{"x":0.6541353383458647,"y":0.9438202247191011},{"x":0.6616541353383459,"y":0.9438202247191011},{"x":0.6691729323308271,"y":0.9438202247191011},{"x":0.6766917293233083,"y":0.9438202247191011},{"x":0.6766917293233083,"y":0.9550561797752809},{"x":0.6842105263157895,"y":0.9550561797752809},{"x":0.6917293233082707,"y":0.9550561797752809},{"x":0.6992481203007519,"y":0.9550561797752809},{"x":0.7067669172932332,"y":0.9550561797752809},{"x":0.7142857142857143,"y":0.9550561797752809},{"x":0.7218045112781954,"y":0.9550561797752809},{"x":0.7293233082706767,"y":0.9550561797752809},{"x":0.7368421052631579,"y":0.9550561797752809},{"x":0.7443609022556391,"y":0.9550561797752809},{"x":0.7518796992481203,"y":0.9550561797752809},{"x":0.7593984962406015,"y":0.9550561797752809},{"x":0.7669172932330827,"y":0.9550561797752809},{"x":0.7744360902255639,"y":0.9550561797752809},{"x":0.7819548872180451,"y":0.9550561797752809},{"x":0.7894736842105263,"y":0.9550561797752809},{"x":0.7969924812030075,"y":0.9550561797752809},{"x":0.8045112781954887,"y":0.9550561797752809},{"x":0.8120300751879699,"y":0.9550561797752809},{"x":0.8120300751879699,"y":0.9662921348314607},{"x":0.8120300751879699,"y":0.9775280898876404},{"x":0.8195488721804511,"y":0.9775280898876404},{"x":0.8270676691729323,"y":0.9775280898876404},{"x":0.8345864661654135,"y":0.9775280898876404},{"x":0.8421052631578947,"y":0.9775280898876404},{"x":0.849624060150376,"y":0.9775280898876404},{"x":0.8571428571428571,"y":0.9775280898876404},{"x":0.8571428571428571,"y":0.9887640449438202},{"x":0.8646616541353384,"y":0.9887640449438202},{"x":0.8721804511278195,"y":0.9887640449438202},{"x":0.8796992481203008,"y":0.9887640449438202},{"x":0.887218045112782,"y":0.9887640449438202},{"x":0.8947368421052632,"y":0.9887640449438202},{"x":0.9022556390977444,"y":0.9887640449438202},{"x":0.9097744360902256,"y":0.9887640449438202},{"x":0.9097744360902256,"y":1},{"x":0.9172932330827068,"y":1},{"x":0.924812030075188,"y":1},{"x":0.9323308270676692,"y":1},{"x":0.9398496240601504,"y":1},{"x":0.9473684210526316,"y":1},{"x":0.9548872180451128,"y":1},{"x":0.962406015037594,"y":1},{"x":0.9699248120300752,"y":1},{"x":0.9774436090225564,"y":1},{"x":0.9849624060150376,"y":1},{"x":0.9924812030075189,"y":1},{"x":1,"y":1}]},{"name":"608960e3-ba5a-4521-9cd4-5e38e662c942","values":[{"x":0.007299270072992701,"y":0},{"x":0.007299270072992701,"y":0.01176470588235294},{"x":0.0145985401459854,"y":0.01176470588235294},{"x":0.0145985401459854,"y":0.02352941176470588},{"x":0.0218978102189781,"y":0.02352941176470588},{"x":0.0218978102189781,"y":0.03529411764705882},{"x":0.0218978102189781,"y":0.04705882352941176},{"x":0.0218978102189781,"y":0.05882352941176471},{"x":0.0218978102189781,"y":0.07058823529411765},{"x":0.0291970802919708,"y":0.07058823529411765},{"x":0.0364963503649635,"y":0.07058823529411765},{"x":0.0364963503649635,"y":0.08235294117647059},{"x":0.0364963503649635,"y":0.09411764705882353},{"x":0.0364963503649635,"y":0.1058823529411765},{"x":0.0364963503649635,"y":0.1176470588235294},{"x":0.0364963503649635,"y":0.1294117647058824},{"x":0.0437956204379562,"y":0.1294117647058824},{"x":0.05109489051094891,"y":0.1294117647058824},{"x":0.05109489051094891,"y":0.1411764705882353},{"x":0.05109489051094891,"y":0.1529411764705882},{"x":0.05109489051094891,"y":0.1647058823529412},{"x":0.05109489051094891,"y":0.1764705882352941},{"x":0.05109489051094891,"y":0.1882352941176471},{"x":0.05839416058394161,"y":0.1882352941176471},{"x":0.05839416058394161,"y":0.2},{"x":0.05839416058394161,"y":0.2117647058823529},{"x":0.06569343065693431,"y":0.2117647058823529},{"x":0.07299270072992702,"y":0.2117647058823529},{"x":0.08029197080291971,"y":0.2117647058823529},{"x":0.08759124087591241,"y":0.2117647058823529},{"x":0.0948905109489051,"y":0.2117647058823529},{"x":0.1021897810218978,"y":0.2117647058823529},{"x":0.1021897810218978,"y":0.2235294117647059},{"x":0.1021897810218978,"y":0.2352941176470588},{"x":0.1021897810218978,"y":0.2470588235294118},{"x":0.1021897810218978,"y":0.2588235294117647},{"x":0.1021897810218978,"y":0.2705882352941176},{"x":0.1021897810218978,"y":0.2823529411764706},{"x":0.1094890510948905,"y":0.2823529411764706},{"x":0.1094890510948905,"y":0.2941176470588235},{"x":0.1094890510948905,"y":0.3058823529411765},{"x":0.1094890510948905,"y":0.3176470588235294},{"x":0.1094890510948905,"y":0.3294117647058824},{"x":0.1094890510948905,"y":0.3411764705882353},{"x":0.1167883211678832,"y":0.3411764705882353},{"x":0.1167883211678832,"y":0.3529411764705882},{"x":0.1167883211678832,"y":0.3647058823529412},{"x":0.1167883211678832,"y":0.3764705882352941},{"x":0.1167883211678832,"y":0.3882352941176471},{"x":0.1240875912408759,"y":0.3882352941176471},{"x":0.1313868613138686,"y":0.3882352941176471},{"x":0.1386861313868613,"y":0.3882352941176471},{"x":0.145985401459854,"y":0.3882352941176471},{"x":0.1532846715328467,"y":0.3882352941176471},{"x":0.1605839416058394,"y":0.3882352941176471},{"x":0.1678832116788321,"y":0.3882352941176471},{"x":0.1751824817518248,"y":0.3882352941176471},{"x":0.1824817518248175,"y":0.3882352941176471},{"x":0.1824817518248175,"y":0.4},{"x":0.1824817518248175,"y":0.4117647058823529},{"x":0.1897810218978102,"y":0.4117647058823529},{"x":0.1970802919708029,"y":0.4117647058823529},{"x":0.2043795620437956,"y":0.4117647058823529},{"x":0.2043795620437956,"y":0.4235294117647059},{"x":0.2043795620437956,"y":0.4352941176470588},{"x":0.2116788321167883,"y":0.4352941176470588},{"x":0.2116788321167883,"y":0.4470588235294118},{"x":0.2116788321167883,"y":0.4588235294117647},{"x":0.218978102189781,"y":0.4588235294117647},{"x":0.218978102189781,"y":0.4705882352941176},{"x":0.218978102189781,"y":0.4823529411764706},{"x":0.218978102189781,"y":0.4941176470588235},{"x":0.218978102189781,"y":0.5058823529411764},{"x":0.218978102189781,"y":0.5176470588235293},{"x":0.218978102189781,"y":0.5294117647058824},{"x":0.218978102189781,"y":0.5411764705882353},{"x":0.218978102189781,"y":0.5529411764705882},{"x":0.218978102189781,"y":0.5647058823529412},{"x":0.218978102189781,"y":0.5764705882352941},{"x":0.218978102189781,"y":0.5882352941176471},{"x":0.218978102189781,"y":0.6},{"x":0.218978102189781,"y":0.6117647058823529},{"x":0.218978102189781,"y":0.6235294117647059},{"x":0.2262773722627737,"y":0.6235294117647059},{"x":0.2335766423357664,"y":0.6235294117647059},{"x":0.2408759124087591,"y":0.6235294117647059},{"x":0.2408759124087591,"y":0.6352941176470588},{"x":0.2481751824817518,"y":0.6352941176470588},{"x":0.2554744525547445,"y":0.6352941176470588},{"x":0.2627737226277372,"y":0.6352941176470588},{"x":0.2700729927007299,"y":0.6352941176470588},{"x":0.2773722627737226,"y":0.6352941176470588},{"x":0.2846715328467153,"y":0.6352941176470588},{"x":0.2846715328467153,"y":0.6470588235294118},{"x":0.2846715328467153,"y":0.6588235294117647},{"x":0.291970802919708,"y":0.6588235294117647},{"x":0.2992700729927007,"y":0.6588235294117647},{"x":0.3065693430656934,"y":0.6588235294117647},{"x":0.3138686131386861,"y":0.6588235294117647},{"x":0.3211678832116788,"y":0.6588235294117647},{"x":0.3284671532846715,"y":0.6588235294117647},{"x":0.3357664233576642,"y":0.6588235294117647},{"x":0.3430656934306569,"y":0.6588235294117647},{"x":0.3503649635036496,"y":0.6588235294117647},{"x":0.3576642335766423,"y":0.6588235294117647},{"x":0.364963503649635,"y":0.6588235294117647},{"x":0.3722627737226277,"y":0.6588235294117647},{"x":0.3795620437956204,"y":0.6588235294117647},{"x":0.3868613138686131,"y":0.6588235294117647},{"x":0.3941605839416058,"y":0.6588235294117647},{"x":0.4014598540145985,"y":0.6588235294117647},{"x":0.4087591240875912,"y":0.6588235294117647},{"x":0.4160583941605839,"y":0.6588235294117647},{"x":0.4233576642335766,"y":0.6588235294117647},{"x":0.4233576642335766,"y":0.6705882352941176},{"x":0.4233576642335766,"y":0.6823529411764706},{"x":0.4306569343065693,"y":0.6823529411764706},{"x":0.437956204379562,"y":0.6823529411764706},{"x":0.4452554744525547,"y":0.6823529411764706},{"x":0.4525547445255474,"y":0.6823529411764706},{"x":0.4598540145985401,"y":0.6823529411764706},{"x":0.4671532846715328,"y":0.6823529411764706},{"x":0.4744525547445255,"y":0.6823529411764706},{"x":0.4817518248175182,"y":0.6823529411764706},{"x":0.4890510948905109,"y":0.6823529411764706},{"x":0.4963503649635036,"y":0.6823529411764706},{"x":0.4963503649635036,"y":0.6941176470588235},{"x":0.5036496350364964,"y":0.6941176470588235},{"x":0.5036496350364964,"y":0.7058823529411765},{"x":0.5036496350364964,"y":0.7176470588235294},{"x":0.5036496350364964,"y":0.7294117647058824},{"x":0.5036496350364964,"y":0.7411764705882353},{"x":0.5109489051094891,"y":0.7411764705882353},{"x":0.5109489051094891,"y":0.7529411764705882},{"x":0.5109489051094891,"y":0.7647058823529412},{"x":0.5182481751824818,"y":0.7647058823529412},{"x":0.5255474452554745,"y":0.7647058823529412},{"x":0.5328467153284672,"y":0.7647058823529412},{"x":0.5328467153284672,"y":0.7764705882352941},{"x":0.5328467153284672,"y":0.7882352941176471},{"x":0.5401459854014599,"y":0.7882352941176471},{"x":0.5474452554744526,"y":0.7882352941176471},{"x":0.5474452554744526,"y":0.8},{"x":0.5474452554744526,"y":0.8117647058823529},{"x":0.5547445255474454,"y":0.8117647058823529},{"x":0.562043795620438,"y":0.8117647058823529},{"x":0.562043795620438,"y":0.823529411764706},{"x":0.5693430656934307,"y":0.823529411764706},{"x":0.5766423357664234,"y":0.823529411764706},{"x":0.5839416058394161,"y":0.823529411764706},{"x":0.5912408759124088,"y":0.823529411764706},{"x":0.5985401459854015,"y":0.823529411764706},{"x":0.6058394160583942,"y":0.823529411764706},{"x":0.6131386861313869,"y":0.823529411764706},{"x":0.6204379562043796,"y":0.823529411764706},{"x":0.6277372262773723,"y":0.823529411764706},{"x":0.635036496350365,"y":0.823529411764706},{"x":0.635036496350365,"y":0.8352941176470589},{"x":0.6423357664233577,"y":0.8352941176470589},{"x":0.6496350364963503,"y":0.8352941176470589},{"x":0.6569343065693432,"y":0.8352941176470589},{"x":0.6642335766423358,"y":0.8352941176470589},{"x":0.6715328467153285,"y":0.8352941176470589},{"x":0.6788321167883212,"y":0.8352941176470589},{"x":0.6788321167883212,"y":0.8470588235294118},{"x":0.6861313868613139,"y":0.8470588235294118},{"x":0.6934306569343066,"y":0.8470588235294118},{"x":0.7007299270072993,"y":0.8470588235294118},{"x":0.708029197080292,"y":0.8470588235294118},{"x":0.7153284671532847,"y":0.8470588235294118},{"x":0.7226277372262774,"y":0.8470588235294118},{"x":0.7299270072992701,"y":0.8470588235294118},{"x":0.7372262773722628,"y":0.8470588235294118},{"x":0.7445255474452555,"y":0.8470588235294118},{"x":0.7518248175182481,"y":0.8470588235294118},{"x":0.759124087591241,"y":0.8470588235294118},{"x":0.759124087591241,"y":0.8588235294117647},{"x":0.7664233576642336,"y":0.8588235294117647},{"x":0.7737226277372263,"y":0.8588235294117647},{"x":0.781021897810219,"y":0.8588235294117647},{"x":0.781021897810219,"y":0.8705882352941176},{"x":0.7883211678832117,"y":0.8705882352941176},{"x":0.7883211678832117,"y":0.8823529411764706},{"x":0.7956204379562044,"y":0.8823529411764706},{"x":0.8029197080291971,"y":0.8823529411764706},{"x":0.8102189781021898,"y":0.8823529411764706},{"x":0.8102189781021898,"y":0.8941176470588235},{"x":0.8175182481751825,"y":0.8941176470588235},{"x":0.8248175182481752,"y":0.8941176470588235},{"x":0.8248175182481752,"y":0.9058823529411765},{"x":0.8248175182481752,"y":0.9176470588235294},{"x":0.8248175182481752,"y":0.9294117647058824},{"x":0.8248175182481752,"y":0.9411764705882353},{"x":0.8321167883211679,"y":0.9411764705882353},{"x":0.8394160583941606,"y":0.9411764705882353},{"x":0.8467153284671532,"y":0.9411764705882353},{"x":0.854014598540146,"y":0.9411764705882353},{"x":0.854014598540146,"y":0.9529411764705882},{"x":0.8613138686131387,"y":0.9529411764705882},{"x":0.8686131386861314,"y":0.9529411764705882},{"x":0.8759124087591241,"y":0.9529411764705882},{"x":0.8832116788321168,"y":0.9529411764705882},{"x":0.8905109489051095,"y":0.9529411764705882},{"x":0.8978102189781022,"y":0.9529411764705882},{"x":0.9051094890510949,"y":0.9529411764705882},{"x":0.9051094890510949,"y":0.9647058823529412},{"x":0.9124087591240876,"y":0.9647058823529412},{"x":0.9197080291970803,"y":0.9647058823529412},{"x":0.927007299270073,"y":0.9647058823529412},{"x":0.9343065693430657,"y":0.9647058823529412},{"x":0.9343065693430657,"y":0.9764705882352941},{"x":0.9343065693430657,"y":0.9882352941176471},{"x":0.9416058394160584,"y":0.9882352941176471},{"x":0.9416058394160584,"y":1},{"x":0.948905109489051,"y":1},{"x":0.9562043795620438,"y":1},{"x":0.9635036496350365,"y":1},{"x":0.9708029197080292,"y":1},{"x":0.9781021897810219,"y":1},{"x":0.9854014598540146,"y":1},{"x":0.9927007299270073,"y":1},{"x":1,"y":1}]},{"name":"985f280a-e7ad-40c4-a8f6-4503eebf2e14","values":[{"x":0.007299270072992701,"y":0},{"x":0.0145985401459854,"y":0},{"x":0.0145985401459854,"y":0.01176470588235294},{"x":0.0145985401459854,"y":0.02352941176470588},{"x":0.0145985401459854,"y":0.03529411764705882},{"x":0.0218978102189781,"y":0.03529411764705882},{"x":0.0291970802919708,"y":0.03529411764705882},{"x":0.0291970802919708,"y":0.04705882352941176},{"x":0.0291970802919708,"y":0.05882352941176471},{"x":0.0291970802919708,"y":0.07058823529411765},{"x":0.0291970802919708,"y":0.08235294117647059},{"x":0.0291970802919708,"y":0.09411764705882353},{"x":0.0291970802919708,"y":0.1058823529411765},{"x":0.0291970802919708,"y":0.1176470588235294},{"x":0.0364963503649635,"y":0.1176470588235294},{"x":0.0437956204379562,"y":0.1176470588235294},{"x":0.0437956204379562,"y":0.1294117647058824},{"x":0.05109489051094891,"y":0.1294117647058824},{"x":0.05839416058394161,"y":0.1294117647058824},{"x":0.06569343065693431,"y":0.1294117647058824},{"x":0.06569343065693431,"y":0.1411764705882353},{"x":0.07299270072992702,"y":0.1411764705882353},{"x":0.08029197080291971,"y":0.1411764705882353},{"x":0.08759124087591241,"y":0.1411764705882353},{"x":0.0948905109489051,"y":0.1411764705882353},{"x":0.1021897810218978,"y":0.1411764705882353},{"x":0.1021897810218978,"y":0.1529411764705882},{"x":0.1021897810218978,"y":0.1647058823529412},{"x":0.1021897810218978,"y":0.1764705882352941},{"x":0.1021897810218978,"y":0.1882352941176471},{"x":0.1021897810218978,"y":0.2},{"x":0.1021897810218978,"y":0.2117647058823529},{"x":0.1021897810218978,"y":0.2235294117647059},{"x":0.1021897810218978,"y":0.2352941176470588},{"x":0.1021897810218978,"y":0.2470588235294118},{"x":0.1021897810218978,"y":0.2588235294117647},{"x":0.1094890510948905,"y":0.2588235294117647},{"x":0.1094890510948905,"y":0.2705882352941176},{"x":0.1167883211678832,"y":0.2705882352941176},{"x":0.1240875912408759,"y":0.2705882352941176},{"x":0.1313868613138686,"y":0.2705882352941176},{"x":0.1313868613138686,"y":0.2823529411764706},{"x":0.1313868613138686,"y":0.2941176470588235},{"x":0.1386861313868613,"y":0.2941176470588235},{"x":0.145985401459854,"y":0.2941176470588235},{"x":0.1532846715328467,"y":0.2941176470588235},{"x":0.1532846715328467,"y":0.3058823529411765},{"x":0.1605839416058394,"y":0.3058823529411765},{"x":0.1678832116788321,"y":0.3058823529411765},{"x":0.1751824817518248,"y":0.3058823529411765},{"x":0.1824817518248175,"y":0.3058823529411765},{"x":0.1824817518248175,"y":0.3176470588235294},{"x":0.1897810218978102,"y":0.3176470588235294},{"x":0.1970802919708029,"y":0.3176470588235294},{"x":0.1970802919708029,"y":0.3294117647058824},{"x":0.2043795620437956,"y":0.3294117647058824},{"x":0.2116788321167883,"y":0.3294117647058824},{"x":0.218978102189781,"y":0.3294117647058824},{"x":0.218978102189781,"y":0.3411764705882353},{"x":0.2262773722627737,"y":0.3411764705882353},{"x":0.2262773722627737,"y":0.3529411764705882},{"x":0.2262773722627737,"y":0.3647058823529412},{"x":0.2335766423357664,"y":0.3647058823529412},{"x":0.2408759124087591,"y":0.3647058823529412},{"x":0.2481751824817518,"y":0.3647058823529412},{"x":0.2481751824817518,"y":0.3764705882352941},{"x":0.2481751824817518,"y":0.3882352941176471},{"x":0.2481751824817518,"y":0.4},{"x":0.2481751824817518,"y":0.4117647058823529},{"x":0.2481751824817518,"y":0.4235294117647059},{"x":0.2481751824817518,"y":0.4352941176470588},{"x":0.2481751824817518,"y":0.4470588235294118},{"x":0.2481751824817518,"y":0.4588235294117647},{"x":0.2481751824817518,"y":0.4705882352941176},{"x":0.2481751824817518,"y":0.4823529411764706},{"x":0.2481751824817518,"y":0.4941176470588235},{"x":0.2481751824817518,"y":0.5058823529411764},{"x":0.2481751824817518,"y":0.5176470588235293},{"x":0.2554744525547445,"y":0.5176470588235293},{"x":0.2627737226277372,"y":0.5176470588235293},{"x":0.2627737226277372,"y":0.5294117647058824},{"x":0.2627737226277372,"y":0.5411764705882353},{"x":0.2700729927007299,"y":0.5411764705882353},{"x":0.2773722627737226,"y":0.5411764705882353},{"x":0.2846715328467153,"y":0.5411764705882353},{"x":0.291970802919708,"y":0.5411764705882353},{"x":0.2992700729927007,"y":0.5411764705882353},{"x":0.2992700729927007,"y":0.5529411764705882},{"x":0.2992700729927007,"y":0.5647058823529412},{"x":0.3065693430656934,"y":0.5647058823529412},{"x":0.3065693430656934,"y":0.5764705882352941},{"x":0.3138686131386861,"y":0.5764705882352941},{"x":0.3211678832116788,"y":0.5764705882352941},{"x":0.3284671532846715,"y":0.5764705882352941},{"x":0.3284671532846715,"y":0.5882352941176471},{"x":0.3357664233576642,"y":0.5882352941176471},{"x":0.3430656934306569,"y":0.5882352941176471},{"x":0.3503649635036496,"y":0.5882352941176471},{"x":0.3576642335766423,"y":0.5882352941176471},{"x":0.364963503649635,"y":0.5882352941176471},{"x":0.364963503649635,"y":0.6},{"x":0.3722627737226277,"y":0.6},{"x":0.3795620437956204,"y":0.6},{"x":0.3868613138686131,"y":0.6},{"x":0.3941605839416058,"y":0.6},{"x":0.4014598540145985,"y":0.6},{"x":0.4087591240875912,"y":0.6},{"x":0.4160583941605839,"y":0.6},{"x":0.4233576642335766,"y":0.6},{"x":0.4306569343065693,"y":0.6},{"x":0.437956204379562,"y":0.6},{"x":0.4452554744525547,"y":0.6},{"x":0.4525547445255474,"y":0.6},{"x":0.4598540145985401,"y":0.6},{"x":0.4671532846715328,"y":0.6},{"x":0.4744525547445255,"y":0.6},{"x":0.4817518248175182,"y":0.6},{"x":0.4890510948905109,"y":0.6},{"x":0.4890510948905109,"y":0.6117647058823529},{"x":0.4890510948905109,"y":0.6235294117647059},{"x":0.4890510948905109,"y":0.6352941176470588},{"x":0.4963503649635036,"y":0.6352941176470588},{"x":0.4963503649635036,"y":0.6470588235294118},{"x":0.4963503649635036,"y":0.6588235294117647},{"x":0.4963503649635036,"y":0.6705882352941176},{"x":0.4963503649635036,"y":0.6823529411764706},{"x":0.4963503649635036,"y":0.6941176470588235},{"x":0.4963503649635036,"y":0.7058823529411765},{"x":0.4963503649635036,"y":0.7176470588235294},{"x":0.4963503649635036,"y":0.7294117647058824},{"x":0.4963503649635036,"y":0.7411764705882353},{"x":0.4963503649635036,"y":0.7529411764705882},{"x":0.4963503649635036,"y":0.7647058823529412},{"x":0.5036496350364964,"y":0.7647058823529412},{"x":0.5109489051094891,"y":0.7647058823529412},{"x":0.5182481751824818,"y":0.7647058823529412},{"x":0.5255474452554745,"y":0.7647058823529412},{"x":0.5328467153284672,"y":0.7647058823529412},{"x":0.5328467153284672,"y":0.7764705882352941},{"x":0.5328467153284672,"y":0.7882352941176471},{"x":0.5328467153284672,"y":0.8},{"x":0.5401459854014599,"y":0.8},{"x":0.5474452554744526,"y":0.8},{"x":0.5474452554744526,"y":0.8117647058823529},{"x":0.5474452554744526,"y":0.823529411764706},{"x":0.5474452554744526,"y":0.8352941176470589},{"x":0.5547445255474454,"y":0.8352941176470589},{"x":0.562043795620438,"y":0.8352941176470589},{"x":0.5693430656934307,"y":0.8352941176470589},{"x":0.5766423357664234,"y":0.8352941176470589},{"x":0.5839416058394161,"y":0.8352941176470589},{"x":0.5912408759124088,"y":0.8352941176470589},{"x":0.5985401459854015,"y":0.8352941176470589},{"x":0.6058394160583942,"y":0.8352941176470589},{"x":0.6131386861313869,"y":0.8352941176470589},{"x":0.6204379562043796,"y":0.8352941176470589},{"x":0.6277372262773723,"y":0.8352941176470589},{"x":0.635036496350365,"y":0.8352941176470589},{"x":0.6423357664233577,"y":0.8352941176470589},{"x":0.6496350364963503,"y":0.8352941176470589},{"x":0.6569343065693432,"y":0.8352941176470589},{"x":0.6642335766423358,"y":0.8352941176470589},{"x":0.6715328467153285,"y":0.8352941176470589},{"x":0.6788321167883212,"y":0.8352941176470589},{"x":0.6861313868613139,"y":0.8352941176470589},{"x":0.6934306569343066,"y":0.8352941176470589},{"x":0.7007299270072993,"y":0.8352941176470589},{"x":0.708029197080292,"y":0.8352941176470589},{"x":0.7153284671532847,"y":0.8352941176470589},{"x":0.7226277372262774,"y":0.8352941176470589},{"x":0.7299270072992701,"y":0.8352941176470589},{"x":0.7372262773722628,"y":0.8352941176470589},{"x":0.7445255474452555,"y":0.8352941176470589},{"x":0.7518248175182481,"y":0.8352941176470589},{"x":0.759124087591241,"y":0.8352941176470589},{"x":0.7664233576642336,"y":0.8352941176470589},{"x":0.7737226277372263,"y":0.8352941176470589},{"x":0.7737226277372263,"y":0.8470588235294118},{"x":0.781021897810219,"y":0.8470588235294118},{"x":0.7883211678832117,"y":0.8470588235294118},{"x":0.7883211678832117,"y":0.8588235294117647},{"x":0.7956204379562044,"y":0.8588235294117647},{"x":0.8029197080291971,"y":0.8588235294117647},{"x":0.8102189781021898,"y":0.8588235294117647},{"x":0.8175182481751825,"y":0.8588235294117647},{"x":0.8248175182481752,"y":0.8588235294117647},{"x":0.8321167883211679,"y":0.8588235294117647},{"x":0.8321167883211679,"y":0.8705882352941176},{"x":0.8394160583941606,"y":0.8705882352941176},{"x":0.8467153284671532,"y":0.8705882352941176},{"x":0.854014598540146,"y":0.8705882352941176},{"x":0.8613138686131387,"y":0.8705882352941176},{"x":0.8686131386861314,"y":0.8705882352941176},{"x":0.8759124087591241,"y":0.8705882352941176},{"x":0.8832116788321168,"y":0.8705882352941176},{"x":0.8905109489051095,"y":0.8705882352941176},{"x":0.8978102189781022,"y":0.8705882352941176},{"x":0.9051094890510949,"y":0.8705882352941176},{"x":0.9124087591240876,"y":0.8705882352941176},{"x":0.9197080291970803,"y":0.8705882352941176},{"x":0.927007299270073,"y":0.8705882352941176},{"x":0.9343065693430657,"y":0.8705882352941176},{"x":0.9416058394160584,"y":0.8705882352941176},{"x":0.948905109489051,"y":0.8705882352941176},{"x":0.9562043795620438,"y":0.8705882352941176},{"x":0.9635036496350365,"y":0.8705882352941176},{"x":0.9635036496350365,"y":0.8823529411764706},{"x":0.9708029197080292,"y":0.8823529411764706},{"x":0.9781021897810219,"y":0.8823529411764706},{"x":0.9854014598540146,"y":0.8823529411764706},{"x":0.9854014598540146,"y":0.8941176470588235},{"x":0.9854014598540146,"y":0.9058823529411765},{"x":0.9854014598540146,"y":0.9176470588235294},{"x":0.9854014598540146,"y":0.9294117647058824},{"x":0.9854014598540146,"y":0.9411764705882353},{"x":0.9854014598540146,"y":0.9529411764705882},{"x":0.9854014598540146,"y":0.9647058823529412},{"x":0.9927007299270073,"y":0.9647058823529412},{"x":0.9927007299270073,"y":0.9764705882352941},{"x":0.9927007299270073,"y":0.9882352941176471},{"x":1,"y":0.9882352941176471},{"x":1,"y":1}]}],"marks":[{"type":"line","from":{"data":"5ef150bb-afdd-44c0-b23c-94f46373db5c"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"red"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"line","from":{"data":"95f953f9-cef1-4cb1-b4ec-528709c52039"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"green"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"line","from":{"data":"608960e3-ba5a-4521-9cd4-5e38e662c942"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"blue"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"line","from":{"data":"985f280a-e7ad-40c4-a8f6-4503eebf2e14"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"black"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"5ef150bb-afdd-44c0-b23c-94f46373db5c\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"5ef150bb-afdd-44c0-b23c-94f46373db5c\", :field \"data.y\"}}], :axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :data ({:name \"5ef150bb-afdd-44c0-b23c-94f46373db5c\", :values ({:x 0, :y 1/82} {:x 1/140, :y 1/82} {:x 1/70, :y 1/82} {:x 3/140, :y 1/82} {:x 3/140, :y 1/41} {:x 3/140, :y 3/82} {:x 3/140, :y 2/41} {:x 3/140, :y 5/82} {:x 3/140, :y 3/41} {:x 1/35, :y 3/41} {:x 1/35, :y 7/82} {:x 1/28, :y 7/82} {:x 3/70, :y 7/82} {:x 3/70, :y 4/41} {:x 3/70, :y 9/82} {:x 3/70, :y 5/41} {:x 3/70, :y 11/82} {:x 3/70, :y 6/41} {:x 3/70, :y 13/82} {:x 3/70, :y 7/41} {:x 3/70, :y 15/82} {:x 3/70, :y 8/41} {:x 3/70, :y 17/82} {:x 3/70, :y 9/41} {:x 3/70, :y 19/82} {:x 3/70, :y 10/41} {:x 1/20, :y 10/41} {:x 1/20, :y 21/82} {:x 1/20, :y 11/41} {:x 1/20, :y 23/82} {:x 1/20, :y 12/41} {:x 1/20, :y 25/82} {:x 1/20, :y 13/41} {:x 1/20, :y 27/82} {:x 1/20, :y 14/41} {:x 1/20, :y 29/82} {:x 1/20, :y 15/41} {:x 1/20, :y 31/82} {:x 1/20, :y 16/41} {:x 1/20, :y 33/82} {:x 1/20, :y 17/41} {:x 1/20, :y 35/82} {:x 1/20, :y 18/41} {:x 2/35, :y 18/41} {:x 2/35, :y 37/82} {:x 9/140, :y 37/82} {:x 1/14, :y 37/82} {:x 11/140, :y 37/82} {:x 3/35, :y 37/82} {:x 13/140, :y 37/82} {:x 1/10, :y 37/82} {:x 3/28, :y 37/82} {:x 3/28, :y 19/41} {:x 3/28, :y 39/82} {:x 4/35, :y 39/82} {:x 17/140, :y 39/82} {:x 9/70, :y 39/82} {:x 19/140, :y 39/82} {:x 1/7, :y 39/82} {:x 1/7, :y 20/41} {:x 1/7, :y 1/2} {:x 3/20, :y 1/2} {:x 3/20, :y 21/41} {:x 11/70, :y 21/41} {:x 11/70, :y 43/82} {:x 11/70, :y 22/41} {:x 11/70, :y 45/82} {:x 23/140, :y 45/82} {:x 6/35, :y 45/82} {:x 6/35, :y 23/41} {:x 6/35, :y 47/82} {:x 6/35, :y 24/41} {:x 6/35, :y 49/82} {:x 6/35, :y 25/41} {:x 5/28, :y 25/41} {:x 5/28, :y 51/82} {:x 13/70, :y 51/82} {:x 13/70, :y 26/41} {:x 27/140, :y 26/41} {:x 1/5, :y 26/41} {:x 29/140, :y 26/41} {:x 3/14, :y 26/41} {:x 31/140, :y 26/41} {:x 8/35, :y 26/41} {:x 33/140, :y 26/41} {:x 33/140, :y 53/82} {:x 17/70, :y 53/82} {:x 1/4, :y 53/82} {:x 9/35, :y 53/82} {:x 9/35, :y 27/41} {:x 37/140, :y 27/41} {:x 19/70, :y 27/41} {:x 39/140, :y 27/41} {:x 2/7, :y 27/41} {:x 41/140, :y 27/41} {:x 3/10, :y 27/41} {:x 43/140, :y 27/41} {:x 11/35, :y 27/41} {:x 9/28, :y 27/41} {:x 23/70, :y 27/41} {:x 47/140, :y 27/41} {:x 47/140, :y 55/82} {:x 47/140, :y 28/41} {:x 12/35, :y 28/41} {:x 7/20, :y 28/41} {:x 7/20, :y 57/82} {:x 7/20, :y 29/41} {:x 7/20, :y 59/82} {:x 7/20, :y 30/41} {:x 5/14, :y 30/41} {:x 5/14, :y 61/82} {:x 51/140, :y 61/82} {:x 13/35, :y 61/82} {:x 53/140, :y 61/82} {:x 53/140, :y 31/41} {:x 27/70, :y 31/41} {:x 27/70, :y 63/82} {:x 27/70, :y 32/41} {:x 27/70, :y 65/82} {:x 11/28, :y 65/82} {:x 2/5, :y 65/82} {:x 2/5, :y 33/41} {:x 57/140, :y 33/41} {:x 29/70, :y 33/41} {:x 29/70, :y 67/82} {:x 29/70, :y 34/41} {:x 59/140, :y 34/41} {:x 59/140, :y 69/82} {:x 59/140, :y 35/41} {:x 3/7, :y 35/41} {:x 3/7, :y 71/82} {:x 61/140, :y 71/82} {:x 31/70, :y 71/82} {:x 9/20, :y 71/82} {:x 16/35, :y 71/82} {:x 13/28, :y 71/82} {:x 33/70, :y 71/82} {:x 67/140, :y 71/82} {:x 17/35, :y 71/82} {:x 69/140, :y 71/82} {:x 1/2, :y 71/82} {:x 71/140, :y 71/82} {:x 71/140, :y 36/41} {:x 18/35, :y 36/41} {:x 73/140, :y 36/41} {:x 37/70, :y 36/41} {:x 15/28, :y 36/41} {:x 19/35, :y 36/41} {:x 11/20, :y 36/41} {:x 39/70, :y 36/41} {:x 79/140, :y 36/41} {:x 4/7, :y 36/41} {:x 81/140, :y 36/41} {:x 41/70, :y 36/41} {:x 83/140, :y 36/41} {:x 3/5, :y 36/41} {:x 17/28, :y 36/41} {:x 43/70, :y 36/41} {:x 87/140, :y 36/41} {:x 22/35, :y 36/41} {:x 89/140, :y 36/41} {:x 9/14, :y 36/41} {:x 13/20, :y 36/41} {:x 23/35, :y 36/41} {:x 93/140, :y 36/41} {:x 47/70, :y 36/41} {:x 19/28, :y 36/41} {:x 24/35, :y 36/41} {:x 24/35, :y 73/82} {:x 97/140, :y 73/82} {:x 7/10, :y 73/82} {:x 99/140, :y 73/82} {:x 99/140, :y 37/41} {:x 99/140, :y 75/82} {:x 5/7, :y 75/82} {:x 101/140, :y 75/82} {:x 51/70, :y 75/82} {:x 103/140, :y 75/82} {:x 26/35, :y 75/82} {:x 3/4, :y 75/82} {:x 53/70, :y 75/82} {:x 107/140, :y 75/82} {:x 27/35, :y 75/82} {:x 109/140, :y 75/82} {:x 11/14, :y 75/82} {:x 111/140, :y 75/82} {:x 4/5, :y 75/82} {:x 113/140, :y 75/82} {:x 57/70, :y 75/82} {:x 23/28, :y 75/82} {:x 29/35, :y 75/82} {:x 117/140, :y 75/82} {:x 59/70, :y 75/82} {:x 17/20, :y 75/82} {:x 17/20, :y 38/41} {:x 6/7, :y 38/41} {:x 121/140, :y 38/41} {:x 121/140, :y 77/82} {:x 61/70, :y 77/82} {:x 123/140, :y 77/82} {:x 31/35, :y 77/82} {:x 25/28, :y 77/82} {:x 9/10, :y 77/82} {:x 9/10, :y 39/41} {:x 127/140, :y 39/41} {:x 32/35, :y 39/41} {:x 32/35, :y 79/82} {:x 129/140, :y 79/82} {:x 13/14, :y 79/82} {:x 13/14, :y 40/41} {:x 131/140, :y 40/41} {:x 33/35, :y 40/41} {:x 19/20, :y 40/41} {:x 19/20, :y 81/82} {:x 19/20, :y 1} {:x 67/70, :y 1} {:x 27/28, :y 1} {:x 34/35, :y 1} {:x 137/140, :y 1} {:x 69/70, :y 1} {:x 139/140, :y 1} {:x 1, :y 1})} {:name \"95f953f9-cef1-4cb1-b4ec-528709c52039\", :values ({:x 1/133, :y 0} {:x 2/133, :y 0} {:x 3/133, :y 0} {:x 4/133, :y 0} {:x 5/133, :y 0} {:x 5/133, :y 1/89} {:x 5/133, :y 2/89} {:x 6/133, :y 2/89} {:x 6/133, :y 3/89} {:x 6/133, :y 4/89} {:x 6/133, :y 5/89} {:x 1/19, :y 5/89} {:x 1/19, :y 6/89} {:x 1/19, :y 7/89} {:x 8/133, :y 7/89} {:x 8/133, :y 8/89} {:x 9/133, :y 8/89} {:x 10/133, :y 8/89} {:x 10/133, :y 9/89} {:x 11/133, :y 9/89} {:x 12/133, :y 9/89} {:x 13/133, :y 9/89} {:x 2/19, :y 9/89} {:x 15/133, :y 9/89} {:x 15/133, :y 10/89} {:x 15/133, :y 11/89} {:x 15/133, :y 12/89} {:x 15/133, :y 13/89} {:x 15/133, :y 14/89} {:x 15/133, :y 15/89} {:x 16/133, :y 15/89} {:x 16/133, :y 16/89} {:x 16/133, :y 17/89} {:x 16/133, :y 18/89} {:x 16/133, :y 19/89} {:x 16/133, :y 20/89} {:x 17/133, :y 20/89} {:x 18/133, :y 20/89} {:x 18/133, :y 21/89} {:x 18/133, :y 22/89} {:x 18/133, :y 23/89} {:x 18/133, :y 24/89} {:x 1/7, :y 24/89} {:x 1/7, :y 25/89} {:x 1/7, :y 26/89} {:x 20/133, :y 26/89} {:x 20/133, :y 27/89} {:x 20/133, :y 28/89} {:x 3/19, :y 28/89} {:x 3/19, :y 29/89} {:x 3/19, :y 30/89} {:x 3/19, :y 31/89} {:x 3/19, :y 32/89} {:x 3/19, :y 33/89} {:x 3/19, :y 34/89} {:x 3/19, :y 35/89} {:x 3/19, :y 36/89} {:x 3/19, :y 37/89} {:x 3/19, :y 38/89} {:x 3/19, :y 39/89} {:x 3/19, :y 40/89} {:x 3/19, :y 41/89} {:x 3/19, :y 42/89} {:x 3/19, :y 43/89} {:x 22/133, :y 43/89} {:x 23/133, :y 43/89} {:x 24/133, :y 43/89} {:x 25/133, :y 43/89} {:x 26/133, :y 43/89} {:x 27/133, :y 43/89} {:x 4/19, :y 43/89} {:x 29/133, :y 43/89} {:x 30/133, :y 43/89} {:x 30/133, :y 44/89} {:x 30/133, :y 45/89} {:x 31/133, :y 45/89} {:x 31/133, :y 46/89} {:x 32/133, :y 46/89} {:x 32/133, :y 47/89} {:x 33/133, :y 47/89} {:x 33/133, :y 48/89} {:x 33/133, :y 49/89} {:x 33/133, :y 50/89} {:x 33/133, :y 51/89} {:x 33/133, :y 52/89} {:x 33/133, :y 53/89} {:x 33/133, :y 54/89} {:x 34/133, :y 54/89} {:x 5/19, :y 54/89} {:x 36/133, :y 54/89} {:x 37/133, :y 54/89} {:x 2/7, :y 54/89} {:x 39/133, :y 54/89} {:x 40/133, :y 54/89} {:x 41/133, :y 54/89} {:x 6/19, :y 54/89} {:x 43/133, :y 54/89} {:x 44/133, :y 54/89} {:x 45/133, :y 54/89} {:x 46/133, :y 54/89} {:x 46/133, :y 55/89} {:x 46/133, :y 56/89} {:x 46/133, :y 57/89} {:x 46/133, :y 58/89} {:x 46/133, :y 59/89} {:x 47/133, :y 59/89} {:x 47/133, :y 60/89} {:x 47/133, :y 61/89} {:x 47/133, :y 62/89} {:x 48/133, :y 62/89} {:x 48/133, :y 63/89} {:x 48/133, :y 64/89} {:x 7/19, :y 64/89} {:x 7/19, :y 65/89} {:x 50/133, :y 65/89} {:x 51/133, :y 65/89} {:x 52/133, :y 65/89} {:x 53/133, :y 65/89} {:x 53/133, :y 66/89} {:x 54/133, :y 66/89} {:x 54/133, :y 67/89} {:x 54/133, :y 68/89} {:x 54/133, :y 69/89} {:x 54/133, :y 70/89} {:x 55/133, :y 70/89} {:x 55/133, :y 71/89} {:x 8/19, :y 71/89} {:x 8/19, :y 72/89} {:x 3/7, :y 72/89} {:x 58/133, :y 72/89} {:x 59/133, :y 72/89} {:x 60/133, :y 72/89} {:x 60/133, :y 73/89} {:x 61/133, :y 73/89} {:x 62/133, :y 73/89} {:x 9/19, :y 73/89} {:x 64/133, :y 73/89} {:x 65/133, :y 73/89} {:x 65/133, :y 74/89} {:x 65/133, :y 75/89} {:x 66/133, :y 75/89} {:x 67/133, :y 75/89} {:x 67/133, :y 76/89} {:x 68/133, :y 76/89} {:x 68/133, :y 77/89} {:x 69/133, :y 77/89} {:x 10/19, :y 77/89} {:x 71/133, :y 77/89} {:x 71/133, :y 78/89} {:x 72/133, :y 78/89} {:x 72/133, :y 79/89} {:x 72/133, :y 80/89} {:x 73/133, :y 80/89} {:x 74/133, :y 80/89} {:x 74/133, :y 81/89} {:x 75/133, :y 81/89} {:x 4/7, :y 81/89} {:x 4/7, :y 82/89} {:x 11/19, :y 82/89} {:x 78/133, :y 82/89} {:x 79/133, :y 82/89} {:x 80/133, :y 82/89} {:x 81/133, :y 82/89} {:x 82/133, :y 82/89} {:x 83/133, :y 82/89} {:x 12/19, :y 82/89} {:x 85/133, :y 82/89} {:x 86/133, :y 82/89} {:x 86/133, :y 83/89} {:x 87/133, :y 83/89} {:x 87/133, :y 84/89} {:x 88/133, :y 84/89} {:x 89/133, :y 84/89} {:x 90/133, :y 84/89} {:x 90/133, :y 85/89} {:x 13/19, :y 85/89} {:x 92/133, :y 85/89} {:x 93/133, :y 85/89} {:x 94/133, :y 85/89} {:x 5/7, :y 85/89} {:x 96/133, :y 85/89} {:x 97/133, :y 85/89} {:x 14/19, :y 85/89} {:x 99/133, :y 85/89} {:x 100/133, :y 85/89} {:x 101/133, :y 85/89} {:x 102/133, :y 85/89} {:x 103/133, :y 85/89} {:x 104/133, :y 85/89} {:x 15/19, :y 85/89} {:x 106/133, :y 85/89} {:x 107/133, :y 85/89} {:x 108/133, :y 85/89} {:x 108/133, :y 86/89} {:x 108/133, :y 87/89} {:x 109/133, :y 87/89} {:x 110/133, :y 87/89} {:x 111/133, :y 87/89} {:x 16/19, :y 87/89} {:x 113/133, :y 87/89} {:x 6/7, :y 87/89} {:x 6/7, :y 88/89} {:x 115/133, :y 88/89} {:x 116/133, :y 88/89} {:x 117/133, :y 88/89} {:x 118/133, :y 88/89} {:x 17/19, :y 88/89} {:x 120/133, :y 88/89} {:x 121/133, :y 88/89} {:x 121/133, :y 1} {:x 122/133, :y 1} {:x 123/133, :y 1} {:x 124/133, :y 1} {:x 125/133, :y 1} {:x 18/19, :y 1} {:x 127/133, :y 1} {:x 128/133, :y 1} {:x 129/133, :y 1} {:x 130/133, :y 1} {:x 131/133, :y 1} {:x 132/133, :y 1} {:x 1, :y 1})} {:name \"608960e3-ba5a-4521-9cd4-5e38e662c942\", :values ({:x 1/137, :y 0} {:x 1/137, :y 1/85} {:x 2/137, :y 1/85} {:x 2/137, :y 2/85} {:x 3/137, :y 2/85} {:x 3/137, :y 3/85} {:x 3/137, :y 4/85} {:x 3/137, :y 1/17} {:x 3/137, :y 6/85} {:x 4/137, :y 6/85} {:x 5/137, :y 6/85} {:x 5/137, :y 7/85} {:x 5/137, :y 8/85} {:x 5/137, :y 9/85} {:x 5/137, :y 2/17} {:x 5/137, :y 11/85} {:x 6/137, :y 11/85} {:x 7/137, :y 11/85} {:x 7/137, :y 12/85} {:x 7/137, :y 13/85} {:x 7/137, :y 14/85} {:x 7/137, :y 3/17} {:x 7/137, :y 16/85} {:x 8/137, :y 16/85} {:x 8/137, :y 1/5} {:x 8/137, :y 18/85} {:x 9/137, :y 18/85} {:x 10/137, :y 18/85} {:x 11/137, :y 18/85} {:x 12/137, :y 18/85} {:x 13/137, :y 18/85} {:x 14/137, :y 18/85} {:x 14/137, :y 19/85} {:x 14/137, :y 4/17} {:x 14/137, :y 21/85} {:x 14/137, :y 22/85} {:x 14/137, :y 23/85} {:x 14/137, :y 24/85} {:x 15/137, :y 24/85} {:x 15/137, :y 5/17} {:x 15/137, :y 26/85} {:x 15/137, :y 27/85} {:x 15/137, :y 28/85} {:x 15/137, :y 29/85} {:x 16/137, :y 29/85} {:x 16/137, :y 6/17} {:x 16/137, :y 31/85} {:x 16/137, :y 32/85} {:x 16/137, :y 33/85} {:x 17/137, :y 33/85} {:x 18/137, :y 33/85} {:x 19/137, :y 33/85} {:x 20/137, :y 33/85} {:x 21/137, :y 33/85} {:x 22/137, :y 33/85} {:x 23/137, :y 33/85} {:x 24/137, :y 33/85} {:x 25/137, :y 33/85} {:x 25/137, :y 2/5} {:x 25/137, :y 7/17} {:x 26/137, :y 7/17} {:x 27/137, :y 7/17} {:x 28/137, :y 7/17} {:x 28/137, :y 36/85} {:x 28/137, :y 37/85} {:x 29/137, :y 37/85} {:x 29/137, :y 38/85} {:x 29/137, :y 39/85} {:x 30/137, :y 39/85} {:x 30/137, :y 8/17} {:x 30/137, :y 41/85} {:x 30/137, :y 42/85} {:x 30/137, :y 43/85} {:x 30/137, :y 44/85} {:x 30/137, :y 9/17} {:x 30/137, :y 46/85} {:x 30/137, :y 47/85} {:x 30/137, :y 48/85} {:x 30/137, :y 49/85} {:x 30/137, :y 10/17} {:x 30/137, :y 3/5} {:x 30/137, :y 52/85} {:x 30/137, :y 53/85} {:x 31/137, :y 53/85} {:x 32/137, :y 53/85} {:x 33/137, :y 53/85} {:x 33/137, :y 54/85} {:x 34/137, :y 54/85} {:x 35/137, :y 54/85} {:x 36/137, :y 54/85} {:x 37/137, :y 54/85} {:x 38/137, :y 54/85} {:x 39/137, :y 54/85} {:x 39/137, :y 11/17} {:x 39/137, :y 56/85} {:x 40/137, :y 56/85} {:x 41/137, :y 56/85} {:x 42/137, :y 56/85} {:x 43/137, :y 56/85} {:x 44/137, :y 56/85} {:x 45/137, :y 56/85} {:x 46/137, :y 56/85} {:x 47/137, :y 56/85} {:x 48/137, :y 56/85} {:x 49/137, :y 56/85} {:x 50/137, :y 56/85} {:x 51/137, :y 56/85} {:x 52/137, :y 56/85} {:x 53/137, :y 56/85} {:x 54/137, :y 56/85} {:x 55/137, :y 56/85} {:x 56/137, :y 56/85} {:x 57/137, :y 56/85} {:x 58/137, :y 56/85} {:x 58/137, :y 57/85} {:x 58/137, :y 58/85} {:x 59/137, :y 58/85} {:x 60/137, :y 58/85} {:x 61/137, :y 58/85} {:x 62/137, :y 58/85} {:x 63/137, :y 58/85} {:x 64/137, :y 58/85} {:x 65/137, :y 58/85} {:x 66/137, :y 58/85} {:x 67/137, :y 58/85} {:x 68/137, :y 58/85} {:x 68/137, :y 59/85} {:x 69/137, :y 59/85} {:x 69/137, :y 12/17} {:x 69/137, :y 61/85} {:x 69/137, :y 62/85} {:x 69/137, :y 63/85} {:x 70/137, :y 63/85} {:x 70/137, :y 64/85} {:x 70/137, :y 13/17} {:x 71/137, :y 13/17} {:x 72/137, :y 13/17} {:x 73/137, :y 13/17} {:x 73/137, :y 66/85} {:x 73/137, :y 67/85} {:x 74/137, :y 67/85} {:x 75/137, :y 67/85} {:x 75/137, :y 4/5} {:x 75/137, :y 69/85} {:x 76/137, :y 69/85} {:x 77/137, :y 69/85} {:x 77/137, :y 14/17} {:x 78/137, :y 14/17} {:x 79/137, :y 14/17} {:x 80/137, :y 14/17} {:x 81/137, :y 14/17} {:x 82/137, :y 14/17} {:x 83/137, :y 14/17} {:x 84/137, :y 14/17} {:x 85/137, :y 14/17} {:x 86/137, :y 14/17} {:x 87/137, :y 14/17} {:x 87/137, :y 71/85} {:x 88/137, :y 71/85} {:x 89/137, :y 71/85} {:x 90/137, :y 71/85} {:x 91/137, :y 71/85} {:x 92/137, :y 71/85} {:x 93/137, :y 71/85} {:x 93/137, :y 72/85} {:x 94/137, :y 72/85} {:x 95/137, :y 72/85} {:x 96/137, :y 72/85} {:x 97/137, :y 72/85} {:x 98/137, :y 72/85} {:x 99/137, :y 72/85} {:x 100/137, :y 72/85} {:x 101/137, :y 72/85} {:x 102/137, :y 72/85} {:x 103/137, :y 72/85} {:x 104/137, :y 72/85} {:x 104/137, :y 73/85} {:x 105/137, :y 73/85} {:x 106/137, :y 73/85} {:x 107/137, :y 73/85} {:x 107/137, :y 74/85} {:x 108/137, :y 74/85} {:x 108/137, :y 15/17} {:x 109/137, :y 15/17} {:x 110/137, :y 15/17} {:x 111/137, :y 15/17} {:x 111/137, :y 76/85} {:x 112/137, :y 76/85} {:x 113/137, :y 76/85} {:x 113/137, :y 77/85} {:x 113/137, :y 78/85} {:x 113/137, :y 79/85} {:x 113/137, :y 16/17} {:x 114/137, :y 16/17} {:x 115/137, :y 16/17} {:x 116/137, :y 16/17} {:x 117/137, :y 16/17} {:x 117/137, :y 81/85} {:x 118/137, :y 81/85} {:x 119/137, :y 81/85} {:x 120/137, :y 81/85} {:x 121/137, :y 81/85} {:x 122/137, :y 81/85} {:x 123/137, :y 81/85} {:x 124/137, :y 81/85} {:x 124/137, :y 82/85} {:x 125/137, :y 82/85} {:x 126/137, :y 82/85} {:x 127/137, :y 82/85} {:x 128/137, :y 82/85} {:x 128/137, :y 83/85} {:x 128/137, :y 84/85} {:x 129/137, :y 84/85} {:x 129/137, :y 1} {:x 130/137, :y 1} {:x 131/137, :y 1} {:x 132/137, :y 1} {:x 133/137, :y 1} {:x 134/137, :y 1} {:x 135/137, :y 1} {:x 136/137, :y 1} {:x 1, :y 1})} {:name \"985f280a-e7ad-40c4-a8f6-4503eebf2e14\", :values ({:x 1/137, :y 0} {:x 2/137, :y 0} {:x 2/137, :y 1/85} {:x 2/137, :y 2/85} {:x 2/137, :y 3/85} {:x 3/137, :y 3/85} {:x 4/137, :y 3/85} {:x 4/137, :y 4/85} {:x 4/137, :y 1/17} {:x 4/137, :y 6/85} {:x 4/137, :y 7/85} {:x 4/137, :y 8/85} {:x 4/137, :y 9/85} {:x 4/137, :y 2/17} {:x 5/137, :y 2/17} {:x 6/137, :y 2/17} {:x 6/137, :y 11/85} {:x 7/137, :y 11/85} {:x 8/137, :y 11/85} {:x 9/137, :y 11/85} {:x 9/137, :y 12/85} {:x 10/137, :y 12/85} {:x 11/137, :y 12/85} {:x 12/137, :y 12/85} {:x 13/137, :y 12/85} {:x 14/137, :y 12/85} {:x 14/137, :y 13/85} {:x 14/137, :y 14/85} {:x 14/137, :y 3/17} {:x 14/137, :y 16/85} {:x 14/137, :y 1/5} {:x 14/137, :y 18/85} {:x 14/137, :y 19/85} {:x 14/137, :y 4/17} {:x 14/137, :y 21/85} {:x 14/137, :y 22/85} {:x 15/137, :y 22/85} {:x 15/137, :y 23/85} {:x 16/137, :y 23/85} {:x 17/137, :y 23/85} {:x 18/137, :y 23/85} {:x 18/137, :y 24/85} {:x 18/137, :y 5/17} {:x 19/137, :y 5/17} {:x 20/137, :y 5/17} {:x 21/137, :y 5/17} {:x 21/137, :y 26/85} {:x 22/137, :y 26/85} {:x 23/137, :y 26/85} {:x 24/137, :y 26/85} {:x 25/137, :y 26/85} {:x 25/137, :y 27/85} {:x 26/137, :y 27/85} {:x 27/137, :y 27/85} {:x 27/137, :y 28/85} {:x 28/137, :y 28/85} {:x 29/137, :y 28/85} {:x 30/137, :y 28/85} {:x 30/137, :y 29/85} {:x 31/137, :y 29/85} {:x 31/137, :y 6/17} {:x 31/137, :y 31/85} {:x 32/137, :y 31/85} {:x 33/137, :y 31/85} {:x 34/137, :y 31/85} {:x 34/137, :y 32/85} {:x 34/137, :y 33/85} {:x 34/137, :y 2/5} {:x 34/137, :y 7/17} {:x 34/137, :y 36/85} {:x 34/137, :y 37/85} {:x 34/137, :y 38/85} {:x 34/137, :y 39/85} {:x 34/137, :y 8/17} {:x 34/137, :y 41/85} {:x 34/137, :y 42/85} {:x 34/137, :y 43/85} {:x 34/137, :y 44/85} {:x 35/137, :y 44/85} {:x 36/137, :y 44/85} {:x 36/137, :y 9/17} {:x 36/137, :y 46/85} {:x 37/137, :y 46/85} {:x 38/137, :y 46/85} {:x 39/137, :y 46/85} {:x 40/137, :y 46/85} {:x 41/137, :y 46/85} {:x 41/137, :y 47/85} {:x 41/137, :y 48/85} {:x 42/137, :y 48/85} {:x 42/137, :y 49/85} {:x 43/137, :y 49/85} {:x 44/137, :y 49/85} {:x 45/137, :y 49/85} {:x 45/137, :y 10/17} {:x 46/137, :y 10/17} {:x 47/137, :y 10/17} {:x 48/137, :y 10/17} {:x 49/137, :y 10/17} {:x 50/137, :y 10/17} {:x 50/137, :y 3/5} {:x 51/137, :y 3/5} {:x 52/137, :y 3/5} {:x 53/137, :y 3/5} {:x 54/137, :y 3/5} {:x 55/137, :y 3/5} {:x 56/137, :y 3/5} {:x 57/137, :y 3/5} {:x 58/137, :y 3/5} {:x 59/137, :y 3/5} {:x 60/137, :y 3/5} {:x 61/137, :y 3/5} {:x 62/137, :y 3/5} {:x 63/137, :y 3/5} {:x 64/137, :y 3/5} {:x 65/137, :y 3/5} {:x 66/137, :y 3/5} {:x 67/137, :y 3/5} {:x 67/137, :y 52/85} {:x 67/137, :y 53/85} {:x 67/137, :y 54/85} {:x 68/137, :y 54/85} {:x 68/137, :y 11/17} {:x 68/137, :y 56/85} {:x 68/137, :y 57/85} {:x 68/137, :y 58/85} {:x 68/137, :y 59/85} {:x 68/137, :y 12/17} {:x 68/137, :y 61/85} {:x 68/137, :y 62/85} {:x 68/137, :y 63/85} {:x 68/137, :y 64/85} {:x 68/137, :y 13/17} {:x 69/137, :y 13/17} {:x 70/137, :y 13/17} {:x 71/137, :y 13/17} {:x 72/137, :y 13/17} {:x 73/137, :y 13/17} {:x 73/137, :y 66/85} {:x 73/137, :y 67/85} {:x 73/137, :y 4/5} {:x 74/137, :y 4/5} {:x 75/137, :y 4/5} {:x 75/137, :y 69/85} {:x 75/137, :y 14/17} {:x 75/137, :y 71/85} {:x 76/137, :y 71/85} {:x 77/137, :y 71/85} {:x 78/137, :y 71/85} {:x 79/137, :y 71/85} {:x 80/137, :y 71/85} {:x 81/137, :y 71/85} {:x 82/137, :y 71/85} {:x 83/137, :y 71/85} {:x 84/137, :y 71/85} {:x 85/137, :y 71/85} {:x 86/137, :y 71/85} {:x 87/137, :y 71/85} {:x 88/137, :y 71/85} {:x 89/137, :y 71/85} {:x 90/137, :y 71/85} {:x 91/137, :y 71/85} {:x 92/137, :y 71/85} {:x 93/137, :y 71/85} {:x 94/137, :y 71/85} {:x 95/137, :y 71/85} {:x 96/137, :y 71/85} {:x 97/137, :y 71/85} {:x 98/137, :y 71/85} {:x 99/137, :y 71/85} {:x 100/137, :y 71/85} {:x 101/137, :y 71/85} {:x 102/137, :y 71/85} {:x 103/137, :y 71/85} {:x 104/137, :y 71/85} {:x 105/137, :y 71/85} {:x 106/137, :y 71/85} {:x 106/137, :y 72/85} {:x 107/137, :y 72/85} {:x 108/137, :y 72/85} {:x 108/137, :y 73/85} {:x 109/137, :y 73/85} {:x 110/137, :y 73/85} {:x 111/137, :y 73/85} {:x 112/137, :y 73/85} {:x 113/137, :y 73/85} {:x 114/137, :y 73/85} {:x 114/137, :y 74/85} {:x 115/137, :y 74/85} {:x 116/137, :y 74/85} {:x 117/137, :y 74/85} {:x 118/137, :y 74/85} {:x 119/137, :y 74/85} {:x 120/137, :y 74/85} {:x 121/137, :y 74/85} {:x 122/137, :y 74/85} {:x 123/137, :y 74/85} {:x 124/137, :y 74/85} {:x 125/137, :y 74/85} {:x 126/137, :y 74/85} {:x 127/137, :y 74/85} {:x 128/137, :y 74/85} {:x 129/137, :y 74/85} {:x 130/137, :y 74/85} {:x 131/137, :y 74/85} {:x 132/137, :y 74/85} {:x 132/137, :y 15/17} {:x 133/137, :y 15/17} {:x 134/137, :y 15/17} {:x 135/137, :y 15/17} {:x 135/137, :y 76/85} {:x 135/137, :y 77/85} {:x 135/137, :y 78/85} {:x 135/137, :y 79/85} {:x 135/137, :y 16/17} {:x 135/137, :y 81/85} {:x 135/137, :y 82/85} {:x 136/137, :y 82/85} {:x 136/137, :y 83/85} {:x 136/137, :y 84/85} {:x 1, :y 84/85} {:x 1, :y 1})}), :marks ({:type \"line\", :from {:data \"5ef150bb-afdd-44c0-b23c-94f46373db5c\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"red\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"line\", :from {:data \"95f953f9-cef1-4cb1-b4ec-528709c52039\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"green\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"line\", :from {:data \"608960e3-ba5a-4521-9cd4-5e38e662c942\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"blue\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"line\", :from {:data \"985f280a-e7ad-40c4-a8f6-4503eebf2e14\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"black\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}})}}"}
;; <=

;; **
;;; Generate predictions using the model. Optionally, print out the predictions in a submission-ready format.
;; **

;; @@
(def predictions (regression-predict model (map rest test)))

;(println "PassengerId,Survived")
;(doseq [[id survival] (map (fn [t p] [(first t) p]) test predictions)]
;  (let [survival (if (> survival threshold) 1 0)]
;    (println (str id "," survival))))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;lambda-ml.examples.kaggle.titanic.worksheet/predictions</span>","value":"#'lambda-ml.examples.kaggle.titanic.worksheet/predictions"}
;; <=

;; @@

;; @@
