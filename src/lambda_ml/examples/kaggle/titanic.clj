;; gorilla-repl.fileformat = 1

;; **
;;; # Lambda ML Example: Kaggle Titanic with Logistic Regression
;;; 
;;; An example of applying logistic regression to the data from the [Titanic: Machine Learning from Disaster](https://www.kaggle.com/c/titanic) competition from Kaggle.
;;; 
;;; First, lets set up our namespace and define a helper function for sanitizing data.
;; **

;; @@
(ns lambda-ml.examples.kaggle.titanic
  (require [lambda-ml.core :refer :all]
           [lambda-ml.metrics :refer :all]
           [lambda-ml.regression :refer :all]
           [clojure.data.csv :as csv]
           [gorilla-plot.core :as plot]))

(defn sanitize
  [s]
  (cond (number? s) s
        (clojure.string/blank? s) nil
        :else (read-string s)))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;lambda-ml.examples.kaggle.titanic.worksheet/sanitize</span>","value":"#'lambda-ml.examples.kaggle.titanic.worksheet/sanitize"}
;; <=

;; **
;;; Load the training data. Note that we're being arbitrarily selective about columns since we'll be using only a subset of the features.
;;; 
;;; The categorical features also need to be converted into indicator variables. For example, the passenger class feature ("pclass") becomes three features ("pclass1", "pclass2", and "pclass3"), where the value for "pclass1" is 1 if the passenger was in 1st class and 0 otherwise, and so on.
;; **

;; @@
(def train
  (with-open [in (clojure.java.io/reader "resources/examples/kaggle/titanic/train.csv")]
    (doall
     (->> (rest (csv/read-csv in))
          (map (fn [[id survival pclass name sex age sibsp parch ticket fare cabin embarked]]
                 (let [pclass1 (if (= pclass "1") 1 0)
                       pclass2 (if (= pclass "2") 1 0)
                       pclass3 (if (= pclass "3") 1 0)
                       male    (if (= sex "male") 1 0)]
                   (map sanitize [pclass1 pclass2 pclass3 male sibsp parch survival]))))))))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;lambda-ml.examples.kaggle.titanic.worksheet/train</span>","value":"#'lambda-ml.examples.kaggle.titanic.worksheet/train"}
;; <=

;; **
;;; Visualize the categorical features in the training data.
;; **

;; @@
(for [i [0 1 2 3]]
  (let [data (frequencies (map #(nth % i) train))]
    (plot/bar-chart (keys data) (vals data))))
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-lazy-seq'>(</span>","close":"<span class='clj-lazy-seq'>)</span>","separator":" ","items":[{"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"ordinal","range":"width","domain":{"data":"6b262fe2-cef6-4ea4-a5a7-1c536a0f41c6","field":"data.x"}},{"name":"y","range":"height","nice":true,"domain":{"data":"6b262fe2-cef6-4ea4-a5a7-1c536a0f41c6","field":"data.y"}}],"marks":[{"type":"rect","from":{"data":"6b262fe2-cef6-4ea4-a5a7-1c536a0f41c6"},"properties":{"enter":{"y":{"scale":"y","field":"data.y"},"width":{"offset":-1,"scale":"x","band":true},"x":{"scale":"x","field":"data.x"},"y2":{"scale":"y","value":0}},"update":{"fill":{"value":"steelblue"},"opacity":{"value":1}},"hover":{"fill":{"value":"#FF29D2"}}}}],"data":[{"name":"6b262fe2-cef6-4ea4-a5a7-1c536a0f41c6","values":[{"x":0,"y":675},{"x":1,"y":216}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":40,"top":10,"right":10,"left":55}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"ordinal\", :range \"width\", :domain {:data \"6b262fe2-cef6-4ea4-a5a7-1c536a0f41c6\", :field \"data.x\"}} {:name \"y\", :range \"height\", :nice true, :domain {:data \"6b262fe2-cef6-4ea4-a5a7-1c536a0f41c6\", :field \"data.y\"}}], :marks [{:type \"rect\", :from {:data \"6b262fe2-cef6-4ea4-a5a7-1c536a0f41c6\"}, :properties {:enter {:y {:scale \"y\", :field \"data.y\"}, :width {:offset -1, :scale \"x\", :band true}, :x {:scale \"x\", :field \"data.x\"}, :y2 {:scale \"y\", :value 0}}, :update {:fill {:value \"steelblue\"}, :opacity {:value 1}}, :hover {:fill {:value \"#FF29D2\"}}}}], :data [{:name \"6b262fe2-cef6-4ea4-a5a7-1c536a0f41c6\", :values ({:x 0, :y 675} {:x 1, :y 216})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}}"},{"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"ordinal","range":"width","domain":{"data":"96f70319-54d0-429a-ab06-53352de1b6bd","field":"data.x"}},{"name":"y","range":"height","nice":true,"domain":{"data":"96f70319-54d0-429a-ab06-53352de1b6bd","field":"data.y"}}],"marks":[{"type":"rect","from":{"data":"96f70319-54d0-429a-ab06-53352de1b6bd"},"properties":{"enter":{"y":{"scale":"y","field":"data.y"},"width":{"offset":-1,"scale":"x","band":true},"x":{"scale":"x","field":"data.x"},"y2":{"scale":"y","value":0}},"update":{"fill":{"value":"steelblue"},"opacity":{"value":1}},"hover":{"fill":{"value":"#FF29D2"}}}}],"data":[{"name":"96f70319-54d0-429a-ab06-53352de1b6bd","values":[{"x":0,"y":707},{"x":1,"y":184}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":40,"top":10,"right":10,"left":55}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"ordinal\", :range \"width\", :domain {:data \"96f70319-54d0-429a-ab06-53352de1b6bd\", :field \"data.x\"}} {:name \"y\", :range \"height\", :nice true, :domain {:data \"96f70319-54d0-429a-ab06-53352de1b6bd\", :field \"data.y\"}}], :marks [{:type \"rect\", :from {:data \"96f70319-54d0-429a-ab06-53352de1b6bd\"}, :properties {:enter {:y {:scale \"y\", :field \"data.y\"}, :width {:offset -1, :scale \"x\", :band true}, :x {:scale \"x\", :field \"data.x\"}, :y2 {:scale \"y\", :value 0}}, :update {:fill {:value \"steelblue\"}, :opacity {:value 1}}, :hover {:fill {:value \"#FF29D2\"}}}}], :data [{:name \"96f70319-54d0-429a-ab06-53352de1b6bd\", :values ({:x 0, :y 707} {:x 1, :y 184})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}}"},{"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"ordinal","range":"width","domain":{"data":"8a3c23d9-51ab-45f9-bfa1-6460ee43918c","field":"data.x"}},{"name":"y","range":"height","nice":true,"domain":{"data":"8a3c23d9-51ab-45f9-bfa1-6460ee43918c","field":"data.y"}}],"marks":[{"type":"rect","from":{"data":"8a3c23d9-51ab-45f9-bfa1-6460ee43918c"},"properties":{"enter":{"y":{"scale":"y","field":"data.y"},"width":{"offset":-1,"scale":"x","band":true},"x":{"scale":"x","field":"data.x"},"y2":{"scale":"y","value":0}},"update":{"fill":{"value":"steelblue"},"opacity":{"value":1}},"hover":{"fill":{"value":"#FF29D2"}}}}],"data":[{"name":"8a3c23d9-51ab-45f9-bfa1-6460ee43918c","values":[{"x":1,"y":491},{"x":0,"y":400}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":40,"top":10,"right":10,"left":55}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"ordinal\", :range \"width\", :domain {:data \"8a3c23d9-51ab-45f9-bfa1-6460ee43918c\", :field \"data.x\"}} {:name \"y\", :range \"height\", :nice true, :domain {:data \"8a3c23d9-51ab-45f9-bfa1-6460ee43918c\", :field \"data.y\"}}], :marks [{:type \"rect\", :from {:data \"8a3c23d9-51ab-45f9-bfa1-6460ee43918c\"}, :properties {:enter {:y {:scale \"y\", :field \"data.y\"}, :width {:offset -1, :scale \"x\", :band true}, :x {:scale \"x\", :field \"data.x\"}, :y2 {:scale \"y\", :value 0}}, :update {:fill {:value \"steelblue\"}, :opacity {:value 1}}, :hover {:fill {:value \"#FF29D2\"}}}}], :data [{:name \"8a3c23d9-51ab-45f9-bfa1-6460ee43918c\", :values ({:x 1, :y 491} {:x 0, :y 400})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}}"},{"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"ordinal","range":"width","domain":{"data":"bce1a638-b318-4d6c-8686-06cae9badd4a","field":"data.x"}},{"name":"y","range":"height","nice":true,"domain":{"data":"bce1a638-b318-4d6c-8686-06cae9badd4a","field":"data.y"}}],"marks":[{"type":"rect","from":{"data":"bce1a638-b318-4d6c-8686-06cae9badd4a"},"properties":{"enter":{"y":{"scale":"y","field":"data.y"},"width":{"offset":-1,"scale":"x","band":true},"x":{"scale":"x","field":"data.x"},"y2":{"scale":"y","value":0}},"update":{"fill":{"value":"steelblue"},"opacity":{"value":1}},"hover":{"fill":{"value":"#FF29D2"}}}}],"data":[{"name":"bce1a638-b318-4d6c-8686-06cae9badd4a","values":[{"x":1,"y":577},{"x":0,"y":314}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":40,"top":10,"right":10,"left":55}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"ordinal\", :range \"width\", :domain {:data \"bce1a638-b318-4d6c-8686-06cae9badd4a\", :field \"data.x\"}} {:name \"y\", :range \"height\", :nice true, :domain {:data \"bce1a638-b318-4d6c-8686-06cae9badd4a\", :field \"data.y\"}}], :marks [{:type \"rect\", :from {:data \"bce1a638-b318-4d6c-8686-06cae9badd4a\"}, :properties {:enter {:y {:scale \"y\", :field \"data.y\"}, :width {:offset -1, :scale \"x\", :band true}, :x {:scale \"x\", :field \"data.x\"}, :y2 {:scale \"y\", :value 0}}, :update {:fill {:value \"steelblue\"}, :opacity {:value 1}}, :hover {:fill {:value \"#FF29D2\"}}}}], :data [{:name \"bce1a638-b318-4d6c-8686-06cae9badd4a\", :values ({:x 1, :y 577} {:x 0, :y 314})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}}"}],"value":"(#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"ordinal\", :range \"width\", :domain {:data \"6b262fe2-cef6-4ea4-a5a7-1c536a0f41c6\", :field \"data.x\"}} {:name \"y\", :range \"height\", :nice true, :domain {:data \"6b262fe2-cef6-4ea4-a5a7-1c536a0f41c6\", :field \"data.y\"}}], :marks [{:type \"rect\", :from {:data \"6b262fe2-cef6-4ea4-a5a7-1c536a0f41c6\"}, :properties {:enter {:y {:scale \"y\", :field \"data.y\"}, :width {:offset -1, :scale \"x\", :band true}, :x {:scale \"x\", :field \"data.x\"}, :y2 {:scale \"y\", :value 0}}, :update {:fill {:value \"steelblue\"}, :opacity {:value 1}}, :hover {:fill {:value \"#FF29D2\"}}}}], :data [{:name \"6b262fe2-cef6-4ea4-a5a7-1c536a0f41c6\", :values ({:x 0, :y 675} {:x 1, :y 216})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}} #gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"ordinal\", :range \"width\", :domain {:data \"96f70319-54d0-429a-ab06-53352de1b6bd\", :field \"data.x\"}} {:name \"y\", :range \"height\", :nice true, :domain {:data \"96f70319-54d0-429a-ab06-53352de1b6bd\", :field \"data.y\"}}], :marks [{:type \"rect\", :from {:data \"96f70319-54d0-429a-ab06-53352de1b6bd\"}, :properties {:enter {:y {:scale \"y\", :field \"data.y\"}, :width {:offset -1, :scale \"x\", :band true}, :x {:scale \"x\", :field \"data.x\"}, :y2 {:scale \"y\", :value 0}}, :update {:fill {:value \"steelblue\"}, :opacity {:value 1}}, :hover {:fill {:value \"#FF29D2\"}}}}], :data [{:name \"96f70319-54d0-429a-ab06-53352de1b6bd\", :values ({:x 0, :y 707} {:x 1, :y 184})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}} #gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"ordinal\", :range \"width\", :domain {:data \"8a3c23d9-51ab-45f9-bfa1-6460ee43918c\", :field \"data.x\"}} {:name \"y\", :range \"height\", :nice true, :domain {:data \"8a3c23d9-51ab-45f9-bfa1-6460ee43918c\", :field \"data.y\"}}], :marks [{:type \"rect\", :from {:data \"8a3c23d9-51ab-45f9-bfa1-6460ee43918c\"}, :properties {:enter {:y {:scale \"y\", :field \"data.y\"}, :width {:offset -1, :scale \"x\", :band true}, :x {:scale \"x\", :field \"data.x\"}, :y2 {:scale \"y\", :value 0}}, :update {:fill {:value \"steelblue\"}, :opacity {:value 1}}, :hover {:fill {:value \"#FF29D2\"}}}}], :data [{:name \"8a3c23d9-51ab-45f9-bfa1-6460ee43918c\", :values ({:x 1, :y 491} {:x 0, :y 400})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}} #gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"ordinal\", :range \"width\", :domain {:data \"bce1a638-b318-4d6c-8686-06cae9badd4a\", :field \"data.x\"}} {:name \"y\", :range \"height\", :nice true, :domain {:data \"bce1a638-b318-4d6c-8686-06cae9badd4a\", :field \"data.y\"}}], :marks [{:type \"rect\", :from {:data \"bce1a638-b318-4d6c-8686-06cae9badd4a\"}, :properties {:enter {:y {:scale \"y\", :field \"data.y\"}, :width {:offset -1, :scale \"x\", :band true}, :x {:scale \"x\", :field \"data.x\"}, :y2 {:scale \"y\", :value 0}}, :update {:fill {:value \"steelblue\"}, :opacity {:value 1}}, :hover {:fill {:value \"#FF29D2\"}}}}], :data [{:name \"bce1a638-b318-4d6c-8686-06cae9badd4a\", :values ({:x 1, :y 577} {:x 0, :y 314})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}})"}
;; <=

;; **
;;; Visualize the numerical features in the training data.
;; **

;; @@
(for [i [4 5]]
  (plot/histogram (map #(nth % i) train)))
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-lazy-seq'>(</span>","close":"<span class='clj-lazy-seq'>)</span>","separator":" ","items":[{"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"62bbf2e7-9df5-4a62-8cb0-5b225b36b9ec","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"62bbf2e7-9df5-4a62-8cb0-5b225b36b9ec","field":"data.y"}}],"marks":[{"type":"line","from":{"data":"62bbf2e7-9df5-4a62-8cb0-5b225b36b9ec"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"interpolate":{"value":"step-before"},"fill":{"value":"steelblue"},"fillOpacity":{"value":0.4},"stroke":{"value":"steelblue"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}}],"data":[{"name":"62bbf2e7-9df5-4a62-8cb0-5b225b36b9ec","values":[{"x":0.0,"y":0},{"x":0.7272727272727274,"y":608.0},{"x":1.4545454545454548,"y":209.0},{"x":2.181818181818182,"y":28.0},{"x":2.9090909090909096,"y":0.0},{"x":3.636363636363637,"y":16.0},{"x":4.363636363636364,"y":18.0},{"x":5.090909090909092,"y":5.0},{"x":5.818181818181819,"y":0.0},{"x":6.545454545454547,"y":0.0},{"x":7.272727272727274,"y":0.0},{"x":8.000000000000002,"y":7.0},{"x":8.727272727272728,"y":0}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":40,"top":10,"right":10,"left":55}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"62bbf2e7-9df5-4a62-8cb0-5b225b36b9ec\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"62bbf2e7-9df5-4a62-8cb0-5b225b36b9ec\", :field \"data.y\"}}], :marks [{:type \"line\", :from {:data \"62bbf2e7-9df5-4a62-8cb0-5b225b36b9ec\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :interpolate {:value \"step-before\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 0.4}, :stroke {:value \"steelblue\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}}], :data [{:name \"62bbf2e7-9df5-4a62-8cb0-5b225b36b9ec\", :values ({:x 0.0, :y 0} {:x 0.7272727272727274, :y 608.0} {:x 1.4545454545454548, :y 209.0} {:x 2.181818181818182, :y 28.0} {:x 2.9090909090909096, :y 0.0} {:x 3.636363636363637, :y 16.0} {:x 4.363636363636364, :y 18.0} {:x 5.090909090909092, :y 5.0} {:x 5.818181818181819, :y 0.0} {:x 6.545454545454547, :y 0.0} {:x 7.272727272727274, :y 0.0} {:x 8.000000000000002, :y 7.0} {:x 8.727272727272728, :y 0})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}}"},{"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"a859e030-9f89-459b-b968-d0af3923b476","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"a859e030-9f89-459b-b968-d0af3923b476","field":"data.y"}}],"marks":[{"type":"line","from":{"data":"a859e030-9f89-459b-b968-d0af3923b476"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"interpolate":{"value":"step-before"},"fill":{"value":"steelblue"},"fillOpacity":{"value":0.4},"stroke":{"value":"steelblue"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}}],"data":[{"name":"a859e030-9f89-459b-b968-d0af3923b476","values":[{"x":0.0,"y":0},{"x":0.5454545454545455,"y":678.0},{"x":1.090909090909091,"y":118.0},{"x":1.6363636363636367,"y":0.0},{"x":2.181818181818182,"y":80.0},{"x":2.7272727272727275,"y":0.0},{"x":3.272727272727273,"y":5.0},{"x":3.8181818181818183,"y":0.0},{"x":4.363636363636364,"y":4.0},{"x":4.90909090909091,"y":0.0},{"x":5.454545454545456,"y":5.0},{"x":6.000000000000002,"y":1.0},{"x":6.545454545454548,"y":0}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":40,"top":10,"right":10,"left":55}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"a859e030-9f89-459b-b968-d0af3923b476\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"a859e030-9f89-459b-b968-d0af3923b476\", :field \"data.y\"}}], :marks [{:type \"line\", :from {:data \"a859e030-9f89-459b-b968-d0af3923b476\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :interpolate {:value \"step-before\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 0.4}, :stroke {:value \"steelblue\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}}], :data [{:name \"a859e030-9f89-459b-b968-d0af3923b476\", :values ({:x 0.0, :y 0} {:x 0.5454545454545455, :y 678.0} {:x 1.090909090909091, :y 118.0} {:x 1.6363636363636367, :y 0.0} {:x 2.181818181818182, :y 80.0} {:x 2.7272727272727275, :y 0.0} {:x 3.272727272727273, :y 5.0} {:x 3.8181818181818183, :y 0.0} {:x 4.363636363636364, :y 4.0} {:x 4.90909090909091, :y 0.0} {:x 5.454545454545456, :y 5.0} {:x 6.000000000000002, :y 1.0} {:x 6.545454545454548, :y 0})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}}"}],"value":"(#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"62bbf2e7-9df5-4a62-8cb0-5b225b36b9ec\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"62bbf2e7-9df5-4a62-8cb0-5b225b36b9ec\", :field \"data.y\"}}], :marks [{:type \"line\", :from {:data \"62bbf2e7-9df5-4a62-8cb0-5b225b36b9ec\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :interpolate {:value \"step-before\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 0.4}, :stroke {:value \"steelblue\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}}], :data [{:name \"62bbf2e7-9df5-4a62-8cb0-5b225b36b9ec\", :values ({:x 0.0, :y 0} {:x 0.7272727272727274, :y 608.0} {:x 1.4545454545454548, :y 209.0} {:x 2.181818181818182, :y 28.0} {:x 2.9090909090909096, :y 0.0} {:x 3.636363636363637, :y 16.0} {:x 4.363636363636364, :y 18.0} {:x 5.090909090909092, :y 5.0} {:x 5.818181818181819, :y 0.0} {:x 6.545454545454547, :y 0.0} {:x 7.272727272727274, :y 0.0} {:x 8.000000000000002, :y 7.0} {:x 8.727272727272728, :y 0})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}} #gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"a859e030-9f89-459b-b968-d0af3923b476\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"a859e030-9f89-459b-b968-d0af3923b476\", :field \"data.y\"}}], :marks [{:type \"line\", :from {:data \"a859e030-9f89-459b-b968-d0af3923b476\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :interpolate {:value \"step-before\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 0.4}, :stroke {:value \"steelblue\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}}], :data [{:name \"a859e030-9f89-459b-b968-d0af3923b476\", :values ({:x 0.0, :y 0} {:x 0.5454545454545455, :y 678.0} {:x 1.090909090909091, :y 118.0} {:x 1.6363636363636367, :y 0.0} {:x 2.181818181818182, :y 80.0} {:x 2.7272727272727275, :y 0.0} {:x 3.272727272727273, :y 5.0} {:x 3.8181818181818183, :y 0.0} {:x 4.363636363636364, :y 4.0} {:x 4.90909090909091, :y 0.0} {:x 5.454545454545456, :y 5.0} {:x 6.000000000000002, :y 1.0} {:x 6.545454545454548, :y 0})}], :width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}}})"}
;; <=

;; **
;;; Load the test data, which is structured slightly differently since we'll be making predictions on this data
;; **

;; @@
(def test
  (with-open [in (clojure.java.io/reader "resources/examples/kaggle/titanic/test.csv")]
    (doall
     (->> (rest (csv/read-csv in))
          (map (fn [[id pclass name sex age sibsp parch ticket fare cabin embarked]]
                 (let [pclass1 (if (= pclass "1") 1 0)
                       pclass2 (if (= pclass "2") 1 0)
                       pclass3 (if (= pclass "3") 1 0)
                       male    (if (= sex "male") 1 0)]
                   (cons id (map sanitize [pclass1 pclass2 pclass3 male sibsp parch])))))))))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;lambda-ml.examples.kaggle.titanic.worksheet/test</span>","value":"#'lambda-ml.examples.kaggle.titanic.worksheet/test"}
;; <=

;; **
;;; Define parameters and use k-fold cross validation to train logistic regression models.
;; **

;; @@
(def alpha 0.01)
(def iters 200)

(def k 4)
(def colors ["red" "green" "blue" "black"])
(def partitions (random-partition k train))

(let [rocs (for [fold (range k)]
              (let [train-sample (->> partitions
                                      (keep-indexed #(if (not (= fold %1)) %2))
                                      (apply concat))
                    test-sample (nth partitions fold)
                    model (regression-fit (make-logistic-regression alpha iters) train-sample)
                    predictions (regression-predict model (map butlast test-sample))]
                (roc-curve (map last test-sample) predictions)))]
  (println (map (comp float auc) rocs))
  (->> (map (fn [roc color] (plot/list-plot roc :joined true :color color)) rocs colors)
       (apply plot/compose)))
;; @@
;; ->
;;; (0.6269366 0.74854654 0.3606641 0.634074)
;;; 
;; <-
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"bottom":40,"top":10,"right":10,"left":55},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"5b2e2048-3b0b-419e-8419-da481f162e3b","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"5b2e2048-3b0b-419e-8419-da481f162e3b","field":"data.y"}}],"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"data":[{"name":"5b2e2048-3b0b-419e-8419-da481f162e3b","values":[{"x":0.007042253521126761,"y":0},{"x":0.01408450704225352,"y":0},{"x":0.02112676056338028,"y":0},{"x":0.02816901408450704,"y":0},{"x":0.0352112676056338,"y":0},{"x":0.04225352112676056,"y":0},{"x":0.04929577464788732,"y":0},{"x":0.05633802816901408,"y":0},{"x":0.06338028169014084,"y":0},{"x":0.06338028169014084,"y":0.0125},{"x":0.06338028169014084,"y":0.025},{"x":0.07042253521126761,"y":0.025},{"x":0.07746478873239437,"y":0.025},{"x":0.08450704225352113,"y":0.025},{"x":0.08450704225352113,"y":0.0375},{"x":0.08450704225352113,"y":0.05},{"x":0.08450704225352113,"y":0.0625},{"x":0.08450704225352113,"y":0.075},{"x":0.09154929577464789,"y":0.075},{"x":0.09154929577464789,"y":0.0875},{"x":0.09859154929577466,"y":0.0875},{"x":0.09859154929577466,"y":0.1},{"x":0.09859154929577466,"y":0.1125},{"x":0.09859154929577466,"y":0.125},{"x":0.09859154929577466,"y":0.1375},{"x":0.1056338028169014,"y":0.1375},{"x":0.1126760563380282,"y":0.1375},{"x":0.1197183098591549,"y":0.1375},{"x":0.1197183098591549,"y":0.15},{"x":0.1267605633802817,"y":0.15},{"x":0.1338028169014085,"y":0.15},{"x":0.1408450704225352,"y":0.15},{"x":0.147887323943662,"y":0.15},{"x":0.147887323943662,"y":0.1625},{"x":0.147887323943662,"y":0.175},{"x":0.1549295774647887,"y":0.175},{"x":0.1549295774647887,"y":0.1875},{"x":0.1549295774647887,"y":0.2},{"x":0.1619718309859155,"y":0.2},{"x":0.1619718309859155,"y":0.2125},{"x":0.1619718309859155,"y":0.225},{"x":0.1690140845070423,"y":0.225},{"x":0.1690140845070423,"y":0.2375},{"x":0.176056338028169,"y":0.2375},{"x":0.1830985915492958,"y":0.2375},{"x":0.1830985915492958,"y":0.25},{"x":0.1830985915492958,"y":0.2625},{"x":0.1901408450704225,"y":0.2625},{"x":0.1971830985915493,"y":0.2625},{"x":0.2042253521126761,"y":0.2625},{"x":0.2042253521126761,"y":0.275},{"x":0.2042253521126761,"y":0.2875},{"x":0.2042253521126761,"y":0.3},{"x":0.2042253521126761,"y":0.3125},{"x":0.2042253521126761,"y":0.325},{"x":0.2042253521126761,"y":0.3375},{"x":0.2112676056338028,"y":0.3375},{"x":0.2112676056338028,"y":0.35},{"x":0.2183098591549296,"y":0.35},{"x":0.2253521126760563,"y":0.35},{"x":0.2323943661971831,"y":0.35},{"x":0.2323943661971831,"y":0.3625},{"x":0.2323943661971831,"y":0.375},{"x":0.2394366197183099,"y":0.375},{"x":0.2464788732394366,"y":0.375},{"x":0.2464788732394366,"y":0.3875},{"x":0.2464788732394366,"y":0.4},{"x":0.2535211267605634,"y":0.4},{"x":0.2535211267605634,"y":0.4125},{"x":0.2535211267605634,"y":0.425},{"x":0.2605633802816901,"y":0.425},{"x":0.2676056338028169,"y":0.425},{"x":0.2746478873239437,"y":0.425},{"x":0.2816901408450704,"y":0.425},{"x":0.2887323943661972,"y":0.425},{"x":0.2957746478873239,"y":0.425},{"x":0.3028169014084507,"y":0.425},{"x":0.3098591549295775,"y":0.425},{"x":0.3169014084507042,"y":0.425},{"x":0.323943661971831,"y":0.425},{"x":0.3309859154929577,"y":0.425},{"x":0.3380281690140845,"y":0.425},{"x":0.3450704225352113,"y":0.425},{"x":0.352112676056338,"y":0.425},{"x":0.3591549295774648,"y":0.425},{"x":0.3661971830985915,"y":0.425},{"x":0.3661971830985915,"y":0.4375},{"x":0.3732394366197183,"y":0.4375},{"x":0.3802816901408451,"y":0.4375},{"x":0.3873239436619718,"y":0.4375},{"x":0.3873239436619718,"y":0.45},{"x":0.3873239436619718,"y":0.4625},{"x":0.3873239436619718,"y":0.475},{"x":0.3873239436619718,"y":0.4875},{"x":0.3873239436619718,"y":0.5},{"x":0.3873239436619718,"y":0.5125},{"x":0.3873239436619718,"y":0.525},{"x":0.3873239436619718,"y":0.5375},{"x":0.3943661971830986,"y":0.5375},{"x":0.3943661971830986,"y":0.55},{"x":0.4014084507042254,"y":0.55},{"x":0.4084507042253521,"y":0.55},{"x":0.4154929577464789,"y":0.55},{"x":0.4154929577464789,"y":0.5625},{"x":0.4154929577464789,"y":0.575},{"x":0.4154929577464789,"y":0.5875},{"x":0.4154929577464789,"y":0.6},{"x":0.4154929577464789,"y":0.6125},{"x":0.4225352112676056,"y":0.6125},{"x":0.4225352112676056,"y":0.625},{"x":0.4295774647887324,"y":0.625},{"x":0.4366197183098592,"y":0.625},{"x":0.4436619718309859,"y":0.625},{"x":0.4436619718309859,"y":0.6375},{"x":0.4436619718309859,"y":0.65},{"x":0.4436619718309859,"y":0.6625},{"x":0.4436619718309859,"y":0.675},{"x":0.4507042253521127,"y":0.675},{"x":0.4577464788732394,"y":0.675},{"x":0.4577464788732394,"y":0.6875},{"x":0.4577464788732394,"y":0.7},{"x":0.4577464788732394,"y":0.7125},{"x":0.4577464788732394,"y":0.725},{"x":0.4577464788732394,"y":0.7375},{"x":0.4647887323943662,"y":0.7375},{"x":0.4647887323943662,"y":0.75},{"x":0.471830985915493,"y":0.75},{"x":0.4788732394366197,"y":0.75},{"x":0.4788732394366197,"y":0.7625},{"x":0.4788732394366197,"y":0.775},{"x":0.4788732394366197,"y":0.7875},{"x":0.4859154929577465,"y":0.7875},{"x":0.4859154929577465,"y":0.8},{"x":0.4859154929577465,"y":0.8125},{"x":0.4859154929577465,"y":0.825},{"x":0.4859154929577465,"y":0.8375},{"x":0.4859154929577465,"y":0.85},{"x":0.4859154929577465,"y":0.8625},{"x":0.4929577464788732,"y":0.8625},{"x":0.5,"y":0.8625},{"x":0.5070422535211268,"y":0.8625},{"x":0.5140845070422535,"y":0.8625},{"x":0.5211267605633803,"y":0.8625},{"x":0.528169014084507,"y":0.8625},{"x":0.5352112676056338,"y":0.8625},{"x":0.5422535211267606,"y":0.8625},{"x":0.5492957746478873,"y":0.8625},{"x":0.5563380281690141,"y":0.8625},{"x":0.5633802816901408,"y":0.8625},{"x":0.5704225352112676,"y":0.8625},{"x":0.5774647887323944,"y":0.8625},{"x":0.5845070422535211,"y":0.8625},{"x":0.5915492957746479,"y":0.8625},{"x":0.5915492957746479,"y":0.875},{"x":0.5985915492957746,"y":0.875},{"x":0.6056338028169014,"y":0.875},{"x":0.6056338028169014,"y":0.8875},{"x":0.6126760563380282,"y":0.8875},{"x":0.6197183098591549,"y":0.8875},{"x":0.6267605633802817,"y":0.8875},{"x":0.6338028169014085,"y":0.8875},{"x":0.6408450704225352,"y":0.8875},{"x":0.647887323943662,"y":0.8875},{"x":0.6549295774647887,"y":0.8875},{"x":0.6619718309859155,"y":0.8875},{"x":0.6690140845070423,"y":0.8875},{"x":0.676056338028169,"y":0.8875},{"x":0.676056338028169,"y":0.9},{"x":0.6830985915492958,"y":0.9},{"x":0.6901408450704225,"y":0.9},{"x":0.6971830985915493,"y":0.9},{"x":0.7042253521126761,"y":0.9},{"x":0.7042253521126761,"y":0.9125},{"x":0.7112676056338028,"y":0.9125},{"x":0.7183098591549296,"y":0.9125},{"x":0.7253521126760563,"y":0.9125},{"x":0.7323943661971831,"y":0.9125},{"x":0.7394366197183099,"y":0.9125},{"x":0.7464788732394366,"y":0.9125},{"x":0.7535211267605634,"y":0.9125},{"x":0.7605633802816901,"y":0.9125},{"x":0.7676056338028169,"y":0.9125},{"x":0.7746478873239437,"y":0.9125},{"x":0.7816901408450704,"y":0.9125},{"x":0.7887323943661972,"y":0.9125},{"x":0.7957746478873239,"y":0.9125},{"x":0.8028169014084507,"y":0.9125},{"x":0.8098591549295775,"y":0.9125},{"x":0.8169014084507042,"y":0.9125},{"x":0.823943661971831,"y":0.9125},{"x":0.8309859154929577,"y":0.9125},{"x":0.8380281690140845,"y":0.9125},{"x":0.8450704225352113,"y":0.9125},{"x":0.852112676056338,"y":0.9125},{"x":0.8591549295774648,"y":0.9125},{"x":0.8661971830985915,"y":0.9125},{"x":0.8732394366197183,"y":0.9125},{"x":0.8732394366197183,"y":0.925},{"x":0.8802816901408451,"y":0.925},{"x":0.8873239436619718,"y":0.925},{"x":0.8943661971830986,"y":0.925},{"x":0.9014084507042254,"y":0.925},{"x":0.9014084507042254,"y":0.9375},{"x":0.9084507042253521,"y":0.9375},{"x":0.9154929577464789,"y":0.9375},{"x":0.9225352112676056,"y":0.9375},{"x":0.9295774647887324,"y":0.9375},{"x":0.9366197183098592,"y":0.9375},{"x":0.9366197183098592,"y":0.95},{"x":0.9436619718309859,"y":0.95},{"x":0.9507042253521127,"y":0.95},{"x":0.9577464788732394,"y":0.95},{"x":0.9577464788732394,"y":0.9625},{"x":0.9577464788732394,"y":0.975},{"x":0.9647887323943662,"y":0.975},{"x":0.9647887323943662,"y":0.9875},{"x":0.971830985915493,"y":0.9875},{"x":0.9788732394366197,"y":0.9875},{"x":0.9859154929577465,"y":0.9875},{"x":0.9929577464788732,"y":0.9875},{"x":1,"y":0.9875},{"x":1,"y":1}]},{"name":"38d4369b-ba63-4019-b1e4-52f8055fbbd1","values":[{"x":0.007352941176470588,"y":0},{"x":0.01470588235294118,"y":0},{"x":0.02205882352941176,"y":0},{"x":0.02205882352941176,"y":0.01162790697674419},{"x":0.02941176470588235,"y":0.01162790697674419},{"x":0.02941176470588235,"y":0.02325581395348837},{"x":0.03676470588235294,"y":0.02325581395348837},{"x":0.04411764705882353,"y":0.02325581395348837},{"x":0.04411764705882353,"y":0.03488372093023256},{"x":0.05147058823529412,"y":0.03488372093023256},{"x":0.05882352941176471,"y":0.03488372093023256},{"x":0.0661764705882353,"y":0.03488372093023256},{"x":0.07352941176470588,"y":0.03488372093023256},{"x":0.08088235294117647,"y":0.03488372093023256},{"x":0.08088235294117647,"y":0.04651162790697674},{"x":0.08088235294117647,"y":0.05813953488372093},{"x":0.08088235294117647,"y":0.06976744186046512},{"x":0.08088235294117647,"y":0.0813953488372093},{"x":0.08823529411764706,"y":0.0813953488372093},{"x":0.08823529411764706,"y":0.09302325581395349},{"x":0.08823529411764706,"y":0.1046511627906977},{"x":0.08823529411764706,"y":0.1162790697674419},{"x":0.08823529411764706,"y":0.127906976744186},{"x":0.08823529411764706,"y":0.1395348837209302},{"x":0.08823529411764706,"y":0.1511627906976744},{"x":0.08823529411764706,"y":0.1627906976744186},{"x":0.08823529411764706,"y":0.1744186046511628},{"x":0.08823529411764706,"y":0.186046511627907},{"x":0.08823529411764706,"y":0.1976744186046512},{"x":0.08823529411764706,"y":0.2093023255813953},{"x":0.09558823529411765,"y":0.2093023255813953},{"x":0.1029411764705882,"y":0.2093023255813953},{"x":0.1102941176470588,"y":0.2093023255813953},{"x":0.1102941176470588,"y":0.2209302325581395},{"x":0.1176470588235294,"y":0.2209302325581395},{"x":0.125,"y":0.2209302325581395},{"x":0.125,"y":0.2325581395348837},{"x":0.125,"y":0.2441860465116279},{"x":0.125,"y":0.2558139534883721},{"x":0.125,"y":0.2674418604651163},{"x":0.125,"y":0.2790697674418605},{"x":0.125,"y":0.2906976744186047},{"x":0.125,"y":0.3023255813953488},{"x":0.125,"y":0.313953488372093},{"x":0.125,"y":0.3255813953488372},{"x":0.125,"y":0.3372093023255814},{"x":0.1323529411764706,"y":0.3372093023255814},{"x":0.1397058823529412,"y":0.3372093023255814},{"x":0.1397058823529412,"y":0.3488372093023256},{"x":0.1397058823529412,"y":0.3604651162790698},{"x":0.1397058823529412,"y":0.372093023255814},{"x":0.1397058823529412,"y":0.3837209302325581},{"x":0.1397058823529412,"y":0.3953488372093023},{"x":0.1397058823529412,"y":0.4069767441860465},{"x":0.1397058823529412,"y":0.4186046511627907},{"x":0.1397058823529412,"y":0.4302325581395349},{"x":0.1397058823529412,"y":0.4418604651162791},{"x":0.1470588235294118,"y":0.4418604651162791},{"x":0.1470588235294118,"y":0.4534883720930233},{"x":0.1470588235294118,"y":0.4651162790697674},{"x":0.1470588235294118,"y":0.4767441860465116},{"x":0.1544117647058824,"y":0.4767441860465116},{"x":0.1544117647058824,"y":0.4883720930232558},{"x":0.1617647058823529,"y":0.4883720930232558},{"x":0.1617647058823529,"y":0.5},{"x":0.1617647058823529,"y":0.5116279069767442},{"x":0.1617647058823529,"y":0.5232558139534884},{"x":0.1691176470588235,"y":0.5232558139534884},{"x":0.1764705882352941,"y":0.5232558139534884},{"x":0.1838235294117647,"y":0.5232558139534884},{"x":0.1911764705882353,"y":0.5232558139534884},{"x":0.1911764705882353,"y":0.5348837209302326},{"x":0.1985294117647059,"y":0.5348837209302326},{"x":0.1985294117647059,"y":0.5465116279069767},{"x":0.1985294117647059,"y":0.5581395348837209},{"x":0.2058823529411765,"y":0.5581395348837209},{"x":0.2132352941176471,"y":0.5581395348837209},{"x":0.2132352941176471,"y":0.5697674418604651},{"x":0.2132352941176471,"y":0.5813953488372093},{"x":0.2205882352941176,"y":0.5813953488372093},{"x":0.2279411764705882,"y":0.5813953488372093},{"x":0.2279411764705882,"y":0.5930232558139535},{"x":0.2352941176470588,"y":0.5930232558139535},{"x":0.2426470588235294,"y":0.5930232558139535},{"x":0.25,"y":0.5930232558139535},{"x":0.25,"y":0.6046511627906977},{"x":0.25,"y":0.6162790697674418},{"x":0.25,"y":0.627906976744186},{"x":0.25,"y":0.6395348837209301},{"x":0.2573529411764706,"y":0.6395348837209301},{"x":0.2573529411764706,"y":0.6511627906976744},{"x":0.2573529411764706,"y":0.6627906976744186},{"x":0.2647058823529412,"y":0.6627906976744186},{"x":0.2720588235294118,"y":0.6627906976744186},{"x":0.2720588235294118,"y":0.6744186046511628},{"x":0.2794117647058824,"y":0.6744186046511628},{"x":0.2794117647058824,"y":0.686046511627907},{"x":0.2794117647058824,"y":0.6976744186046512},{"x":0.2794117647058824,"y":0.7093023255813953},{"x":0.2794117647058824,"y":0.7209302325581395},{"x":0.2794117647058824,"y":0.7325581395348837},{"x":0.2867647058823529,"y":0.7325581395348837},{"x":0.2941176470588235,"y":0.7325581395348837},{"x":0.2941176470588235,"y":0.7441860465116279},{"x":0.2941176470588235,"y":0.7558139534883721},{"x":0.3014705882352941,"y":0.7558139534883721},{"x":0.3014705882352941,"y":0.7674418604651163},{"x":0.3088235294117647,"y":0.7674418604651163},{"x":0.3161764705882353,"y":0.7674418604651163},{"x":0.3235294117647059,"y":0.7674418604651163},{"x":0.3308823529411765,"y":0.7674418604651163},{"x":0.3382352941176471,"y":0.7674418604651163},{"x":0.3382352941176471,"y":0.7790697674418605},{"x":0.3455882352941176,"y":0.7790697674418605},{"x":0.3529411764705882,"y":0.7790697674418605},{"x":0.3602941176470588,"y":0.7790697674418605},{"x":0.3676470588235294,"y":0.7790697674418605},{"x":0.375,"y":0.7790697674418605},{"x":0.375,"y":0.7906976744186047},{"x":0.375,"y":0.8023255813953488},{"x":0.3823529411764706,"y":0.8023255813953488},{"x":0.3823529411764706,"y":0.813953488372093},{"x":0.3823529411764706,"y":0.8255813953488372},{"x":0.3823529411764706,"y":0.8372093023255814},{"x":0.3897058823529412,"y":0.8372093023255814},{"x":0.3970588235294118,"y":0.8372093023255814},{"x":0.4044117647058824,"y":0.8372093023255814},{"x":0.4117647058823529,"y":0.8372093023255814},{"x":0.4191176470588235,"y":0.8372093023255814},{"x":0.4264705882352941,"y":0.8372093023255814},{"x":0.4338235294117647,"y":0.8372093023255814},{"x":0.4411764705882353,"y":0.8372093023255814},{"x":0.4485294117647059,"y":0.8372093023255814},{"x":0.4485294117647059,"y":0.8488372093023256},{"x":0.4558823529411765,"y":0.8488372093023256},{"x":0.4632352941176471,"y":0.8488372093023256},{"x":0.4705882352941176,"y":0.8488372093023256},{"x":0.4705882352941176,"y":0.8604651162790699},{"x":0.4705882352941176,"y":0.872093023255814},{"x":0.4779411764705882,"y":0.872093023255814},{"x":0.4852941176470588,"y":0.872093023255814},{"x":0.4852941176470588,"y":0.8837209302325582},{"x":0.4926470588235294,"y":0.8837209302325582},{"x":0.5,"y":0.8837209302325582},{"x":0.5073529411764706,"y":0.8837209302325582},{"x":0.5147058823529412,"y":0.8837209302325582},{"x":0.5220588235294118,"y":0.8837209302325582},{"x":0.5220588235294118,"y":0.8953488372093023},{"x":0.5294117647058824,"y":0.8953488372093023},{"x":0.5367647058823529,"y":0.8953488372093023},{"x":0.5441176470588235,"y":0.8953488372093023},{"x":0.551470588235294,"y":0.8953488372093023},{"x":0.5588235294117647,"y":0.8953488372093023},{"x":0.5661764705882353,"y":0.8953488372093023},{"x":0.573529411764706,"y":0.8953488372093023},{"x":0.5808823529411765,"y":0.8953488372093023},{"x":0.5882352941176471,"y":0.8953488372093023},{"x":0.5882352941176471,"y":0.9069767441860465},{"x":0.5955882352941176,"y":0.9069767441860465},{"x":0.6029411764705882,"y":0.9069767441860465},{"x":0.6102941176470588,"y":0.9069767441860465},{"x":0.6176470588235294,"y":0.9069767441860465},{"x":0.6176470588235294,"y":0.9186046511627907},{"x":0.625,"y":0.9186046511627907},{"x":0.6323529411764706,"y":0.9186046511627907},{"x":0.6323529411764706,"y":0.9302325581395349},{"x":0.6397058823529412,"y":0.9302325581395349},{"x":0.6470588235294118,"y":0.9302325581395349},{"x":0.6544117647058824,"y":0.9302325581395349},{"x":0.6617647058823529,"y":0.9302325581395349},{"x":0.6691176470588235,"y":0.9302325581395349},{"x":0.676470588235294,"y":0.9302325581395349},{"x":0.6838235294117647,"y":0.9302325581395349},{"x":0.6838235294117647,"y":0.9418604651162791},{"x":0.6911764705882353,"y":0.9418604651162791},{"x":0.698529411764706,"y":0.9418604651162791},{"x":0.7058823529411765,"y":0.9418604651162791},{"x":0.7132352941176471,"y":0.9418604651162791},{"x":0.7132352941176471,"y":0.9534883720930233},{"x":0.7205882352941176,"y":0.9534883720930233},{"x":0.7279411764705882,"y":0.9534883720930233},{"x":0.7352941176470588,"y":0.9534883720930233},{"x":0.7426470588235294,"y":0.9534883720930233},{"x":0.75,"y":0.9534883720930233},{"x":0.7573529411764706,"y":0.9534883720930233},{"x":0.7647058823529412,"y":0.9534883720930233},{"x":0.7720588235294118,"y":0.9534883720930233},{"x":0.7720588235294118,"y":0.9651162790697674},{"x":0.7794117647058824,"y":0.9651162790697674},{"x":0.7867647058823529,"y":0.9651162790697674},{"x":0.7867647058823529,"y":0.9767441860465116},{"x":0.7941176470588235,"y":0.9767441860465116},{"x":0.801470588235294,"y":0.9767441860465116},{"x":0.8088235294117647,"y":0.9767441860465116},{"x":0.8161764705882353,"y":0.9767441860465116},{"x":0.823529411764706,"y":0.9767441860465116},{"x":0.8308823529411765,"y":0.9767441860465116},{"x":0.8382352941176471,"y":0.9767441860465116},{"x":0.8455882352941176,"y":0.9767441860465116},{"x":0.8529411764705882,"y":0.9767441860465116},{"x":0.8529411764705882,"y":0.9883720930232558},{"x":0.8602941176470588,"y":0.9883720930232558},{"x":0.8676470588235294,"y":0.9883720930232558},{"x":0.875,"y":0.9883720930232558},{"x":0.8823529411764706,"y":0.9883720930232558},{"x":0.8897058823529412,"y":0.9883720930232558},{"x":0.8970588235294118,"y":0.9883720930232558},{"x":0.9044117647058824,"y":0.9883720930232558},{"x":0.9117647058823529,"y":0.9883720930232558},{"x":0.9191176470588235,"y":0.9883720930232558},{"x":0.926470588235294,"y":0.9883720930232558},{"x":0.9338235294117647,"y":0.9883720930232558},{"x":0.9411764705882353,"y":0.9883720930232558},{"x":0.9411764705882353,"y":1},{"x":0.948529411764706,"y":1},{"x":0.9558823529411765,"y":1},{"x":0.9632352941176471,"y":1},{"x":0.9705882352941176,"y":1},{"x":0.9779411764705882,"y":1},{"x":0.9852941176470588,"y":1},{"x":0.9926470588235294,"y":1},{"x":1,"y":1}]},{"name":"940fc5c9-2ab6-43d6-ada8-f0df572f8bef","values":[{"x":0.007407407407407407,"y":0},{"x":0.01481481481481481,"y":0},{"x":0.02222222222222222,"y":0},{"x":0.02962962962962963,"y":0},{"x":0.03703703703703704,"y":0},{"x":0.04444444444444444,"y":0},{"x":0.04444444444444444,"y":0.01149425287356322},{"x":0.04444444444444444,"y":0.02298850574712644},{"x":0.05185185185185185,"y":0.02298850574712644},{"x":0.05925925925925926,"y":0.02298850574712644},{"x":0.06666666666666667,"y":0.02298850574712644},{"x":0.07407407407407407,"y":0.02298850574712644},{"x":0.08148148148148147,"y":0.02298850574712644},{"x":0.08148148148148147,"y":0.03448275862068966},{"x":0.08888888888888889,"y":0.03448275862068966},{"x":0.0962962962962963,"y":0.03448275862068966},{"x":0.1037037037037037,"y":0.03448275862068966},{"x":0.1111111111111111,"y":0.03448275862068966},{"x":0.1185185185185185,"y":0.03448275862068966},{"x":0.1259259259259259,"y":0.03448275862068966},{"x":0.1333333333333333,"y":0.03448275862068966},{"x":0.1407407407407407,"y":0.03448275862068966},{"x":0.1407407407407407,"y":0.04597701149425287},{"x":0.1481481481481481,"y":0.04597701149425287},{"x":0.1555555555555556,"y":0.04597701149425287},{"x":0.162962962962963,"y":0.04597701149425287},{"x":0.162962962962963,"y":0.05747126436781609},{"x":0.162962962962963,"y":0.06896551724137931},{"x":0.1703703703703704,"y":0.06896551724137931},{"x":0.1703703703703704,"y":0.08045977011494253},{"x":0.1703703703703704,"y":0.09195402298850575},{"x":0.1703703703703704,"y":0.103448275862069},{"x":0.1703703703703704,"y":0.1149425287356322},{"x":0.1777777777777778,"y":0.1149425287356322},{"x":0.1851851851851852,"y":0.1149425287356322},{"x":0.1925925925925926,"y":0.1149425287356322},{"x":0.2,"y":0.1149425287356322},{"x":0.2074074074074074,"y":0.1149425287356322},{"x":0.2148148148148148,"y":0.1149425287356322},{"x":0.2222222222222222,"y":0.1149425287356322},{"x":0.2296296296296296,"y":0.1149425287356322},{"x":0.237037037037037,"y":0.1149425287356322},{"x":0.2444444444444444,"y":0.1149425287356322},{"x":0.2518518518518519,"y":0.1149425287356322},{"x":0.2592592592592593,"y":0.1149425287356322},{"x":0.2666666666666667,"y":0.1149425287356322},{"x":0.2666666666666667,"y":0.1264367816091954},{"x":0.2740740740740741,"y":0.1264367816091954},{"x":0.2814814814814815,"y":0.1264367816091954},{"x":0.2814814814814815,"y":0.1379310344827586},{"x":0.2888888888888889,"y":0.1379310344827586},{"x":0.2962962962962963,"y":0.1379310344827586},{"x":0.2962962962962963,"y":0.1494252873563218},{"x":0.2962962962962963,"y":0.1609195402298851},{"x":0.3037037037037037,"y":0.1609195402298851},{"x":0.3037037037037037,"y":0.1724137931034483},{"x":0.3037037037037037,"y":0.1839080459770115},{"x":0.3037037037037037,"y":0.1954022988505747},{"x":0.3111111111111111,"y":0.1954022988505747},{"x":0.3185185185185185,"y":0.1954022988505747},{"x":0.3259259259259259,"y":0.1954022988505747},{"x":0.3333333333333333,"y":0.1954022988505747},{"x":0.3333333333333333,"y":0.2068965517241379},{"x":0.3333333333333333,"y":0.2183908045977011},{"x":0.3407407407407407,"y":0.2183908045977011},{"x":0.3407407407407407,"y":0.2298850574712644},{"x":0.3481481481481481,"y":0.2298850574712644},{"x":0.3481481481481481,"y":0.2413793103448276},{"x":0.3555555555555556,"y":0.2413793103448276},{"x":0.3555555555555556,"y":0.2528735632183908},{"x":0.3555555555555556,"y":0.264367816091954},{"x":0.3555555555555556,"y":0.2758620689655172},{"x":0.3555555555555556,"y":0.2873563218390805},{"x":0.3555555555555556,"y":0.2988505747126437},{"x":0.3555555555555556,"y":0.3103448275862069},{"x":0.3555555555555556,"y":0.3218390804597701},{"x":0.3555555555555556,"y":0.3333333333333333},{"x":0.3555555555555556,"y":0.3448275862068966},{"x":0.3555555555555556,"y":0.3563218390804598},{"x":0.3555555555555556,"y":0.367816091954023},{"x":0.3555555555555556,"y":0.3793103448275862},{"x":0.3555555555555556,"y":0.3908045977011494},{"x":0.3555555555555556,"y":0.4022988505747126},{"x":0.362962962962963,"y":0.4022988505747126},{"x":0.3703703703703704,"y":0.4022988505747126},{"x":0.3777777777777778,"y":0.4022988505747126},{"x":0.3777777777777778,"y":0.4137931034482759},{"x":0.3851851851851852,"y":0.4137931034482759},{"x":0.3925925925925926,"y":0.4137931034482759},{"x":0.4,"y":0.4137931034482759},{"x":0.4074074074074074,"y":0.4137931034482759},{"x":0.4148148148148148,"y":0.4137931034482759},{"x":0.4222222222222222,"y":0.4137931034482759},{"x":0.4296296296296296,"y":0.4137931034482759},{"x":0.437037037037037,"y":0.4137931034482759},{"x":0.4444444444444444,"y":0.4137931034482759},{"x":0.4518518518518519,"y":0.4137931034482759},{"x":0.4592592592592593,"y":0.4137931034482759},{"x":0.4666666666666667,"y":0.4137931034482759},{"x":0.4740740740740741,"y":0.4137931034482759},{"x":0.4814814814814815,"y":0.4137931034482759},{"x":0.4888888888888889,"y":0.4137931034482759},{"x":0.4888888888888889,"y":0.4252873563218391},{"x":0.4962962962962963,"y":0.4252873563218391},{"x":0.5037037037037037,"y":0.4252873563218391},{"x":0.5111111111111111,"y":0.4252873563218391},{"x":0.5185185185185185,"y":0.4252873563218391},{"x":0.5259259259259259,"y":0.4252873563218391},{"x":0.5333333333333333,"y":0.4252873563218391},{"x":0.5407407407407407,"y":0.4252873563218391},{"x":0.548148148148148,"y":0.4252873563218391},{"x":0.5555555555555556,"y":0.4252873563218391},{"x":0.5555555555555556,"y":0.4367816091954023},{"x":0.562962962962963,"y":0.4367816091954023},{"x":0.5703703703703704,"y":0.4367816091954023},{"x":0.5777777777777778,"y":0.4367816091954023},{"x":0.5851851851851853,"y":0.4367816091954023},{"x":0.5925925925925926,"y":0.4367816091954023},{"x":0.6,"y":0.4367816091954023},{"x":0.6074074074074074,"y":0.4367816091954023},{"x":0.6148148148148148,"y":0.4367816091954023},{"x":0.6222222222222222,"y":0.4367816091954023},{"x":0.6296296296296297,"y":0.4367816091954023},{"x":0.637037037037037,"y":0.4367816091954023},{"x":0.6444444444444444,"y":0.4367816091954023},{"x":0.6518518518518519,"y":0.4367816091954023},{"x":0.6518518518518519,"y":0.4482758620689655},{"x":0.6592592592592593,"y":0.4482758620689655},{"x":0.6666666666666667,"y":0.4482758620689655},{"x":0.674074074074074,"y":0.4482758620689655},{"x":0.6814814814814815,"y":0.4482758620689655},{"x":0.6888888888888889,"y":0.4482758620689655},{"x":0.6888888888888889,"y":0.4597701149425287},{"x":0.6962962962962963,"y":0.4597701149425287},{"x":0.7037037037037037,"y":0.4597701149425287},{"x":0.7111111111111111,"y":0.4597701149425287},{"x":0.7185185185185184,"y":0.4597701149425287},{"x":0.7259259259259259,"y":0.4597701149425287},{"x":0.7333333333333333,"y":0.4597701149425287},{"x":0.7407407407407407,"y":0.4597701149425287},{"x":0.7481481481481481,"y":0.4597701149425287},{"x":0.7555555555555556,"y":0.4597701149425287},{"x":0.762962962962963,"y":0.4597701149425287},{"x":0.7703703703703704,"y":0.4597701149425287},{"x":0.7777777777777778,"y":0.4597701149425287},{"x":0.7851851851851852,"y":0.4597701149425287},{"x":0.7925925925925926,"y":0.4597701149425287},{"x":0.8,"y":0.4597701149425287},{"x":0.8074074074074074,"y":0.4597701149425287},{"x":0.8148148148148148,"y":0.4597701149425287},{"x":0.8222222222222222,"y":0.4597701149425287},{"x":0.8222222222222222,"y":0.471264367816092},{"x":0.8222222222222222,"y":0.4827586206896552},{"x":0.8222222222222222,"y":0.4942528735632184},{"x":0.8222222222222222,"y":0.5057471264367815},{"x":0.8222222222222222,"y":0.5172413793103448},{"x":0.8222222222222222,"y":0.528735632183908},{"x":0.8222222222222222,"y":0.5402298850574713},{"x":0.8222222222222222,"y":0.5517241379310345},{"x":0.8296296296296296,"y":0.5517241379310345},{"x":0.837037037037037,"y":0.5517241379310345},{"x":0.837037037037037,"y":0.5632183908045977},{"x":0.837037037037037,"y":0.5747126436781609},{"x":0.837037037037037,"y":0.5862068965517241},{"x":0.8444444444444444,"y":0.5862068965517241},{"x":0.8518518518518519,"y":0.5862068965517241},{"x":0.8518518518518519,"y":0.5977011494252874},{"x":0.8518518518518519,"y":0.6091954022988506},{"x":0.8518518518518519,"y":0.6206896551724138},{"x":0.8592592592592593,"y":0.6206896551724138},{"x":0.8592592592592593,"y":0.632183908045977},{"x":0.8666666666666667,"y":0.632183908045977},{"x":0.8740740740740741,"y":0.632183908045977},{"x":0.8814814814814815,"y":0.632183908045977},{"x":0.888888888888889,"y":0.632183908045977},{"x":0.8962962962962963,"y":0.632183908045977},{"x":0.8962962962962963,"y":0.6436781609195402},{"x":0.9037037037037037,"y":0.6436781609195402},{"x":0.9111111111111111,"y":0.6436781609195402},{"x":0.9185185185185185,"y":0.6436781609195402},{"x":0.9185185185185185,"y":0.6551724137931034},{"x":0.9259259259259259,"y":0.6551724137931034},{"x":0.9259259259259259,"y":0.6666666666666667},{"x":0.9259259259259259,"y":0.67816091954023},{"x":0.9259259259259259,"y":0.6896551724137931},{"x":0.9259259259259259,"y":0.7011494252873564},{"x":0.9333333333333333,"y":0.7011494252873564},{"x":0.9333333333333333,"y":0.7126436781609194},{"x":0.9333333333333333,"y":0.7241379310344828},{"x":0.9333333333333333,"y":0.735632183908046},{"x":0.9333333333333333,"y":0.7471264367816092},{"x":0.9333333333333333,"y":0.7586206896551724},{"x":0.9407407407407407,"y":0.7586206896551724},{"x":0.9481481481481481,"y":0.7586206896551724},{"x":0.9555555555555556,"y":0.7586206896551724},{"x":0.9555555555555556,"y":0.7701149425287356},{"x":0.9555555555555556,"y":0.7816091954022989},{"x":0.962962962962963,"y":0.7816091954022989},{"x":0.9703703703703704,"y":0.7816091954022989},{"x":0.9703703703703704,"y":0.7931034482758621},{"x":0.9703703703703704,"y":0.8045977011494253},{"x":0.9703703703703704,"y":0.8160919540229885},{"x":0.9703703703703704,"y":0.8275862068965517},{"x":0.9703703703703704,"y":0.8390804597701149},{"x":0.9703703703703704,"y":0.8505747126436782},{"x":0.9703703703703704,"y":0.8620689655172414},{"x":0.9703703703703704,"y":0.8735632183908046},{"x":0.9703703703703704,"y":0.8850574712643678},{"x":0.9703703703703704,"y":0.896551724137931},{"x":0.9777777777777777,"y":0.896551724137931},{"x":0.9777777777777777,"y":0.9080459770114943},{"x":0.9777777777777777,"y":0.9195402298850575},{"x":0.9777777777777777,"y":0.9310344827586207},{"x":0.9777777777777777,"y":0.9425287356321839},{"x":0.9777777777777777,"y":0.9540229885057471},{"x":0.9851851851851852,"y":0.9540229885057471},{"x":0.9851851851851852,"y":0.9655172413793103},{"x":0.9925925925925926,"y":0.9655172413793103},{"x":0.9925925925925926,"y":0.9770114942528736},{"x":0.9925925925925926,"y":0.9885057471264368},{"x":0.9925925925925926,"y":1},{"x":1,"y":1}]},{"name":"57efb07d-73bd-4b12-90cb-2f71c3196dee","values":[{"x":0.007462686567164179,"y":0},{"x":0.007462686567164179,"y":0.01136363636363636},{"x":0.01492537313432836,"y":0.01136363636363636},{"x":0.02238805970149254,"y":0.01136363636363636},{"x":0.02238805970149254,"y":0.02272727272727273},{"x":0.02238805970149254,"y":0.03409090909090909},{"x":0.02985074626865672,"y":0.03409090909090909},{"x":0.0373134328358209,"y":0.03409090909090909},{"x":0.0373134328358209,"y":0.04545454545454545},{"x":0.0373134328358209,"y":0.05681818181818182},{"x":0.04477611940298507,"y":0.05681818181818182},{"x":0.05223880597014925,"y":0.05681818181818182},{"x":0.05970149253731343,"y":0.05681818181818182},{"x":0.05970149253731343,"y":0.06818181818181818},{"x":0.06716417910447761,"y":0.06818181818181818},{"x":0.06716417910447761,"y":0.07954545454545454},{"x":0.06716417910447761,"y":0.09090909090909091},{"x":0.06716417910447761,"y":0.1022727272727273},{"x":0.06716417910447761,"y":0.1136363636363636},{"x":0.07462686567164178,"y":0.1136363636363636},{"x":0.08208955223880597,"y":0.1136363636363636},{"x":0.08955223880597014,"y":0.1136363636363636},{"x":0.08955223880597014,"y":0.125},{"x":0.08955223880597014,"y":0.1363636363636364},{"x":0.09701492537313433,"y":0.1363636363636364},{"x":0.09701492537313433,"y":0.1477272727272727},{"x":0.1044776119402985,"y":0.1477272727272727},{"x":0.1044776119402985,"y":0.1590909090909091},{"x":0.1044776119402985,"y":0.1704545454545455},{"x":0.1119402985074627,"y":0.1704545454545455},{"x":0.1194029850746269,"y":0.1704545454545455},{"x":0.126865671641791,"y":0.1704545454545455},{"x":0.1343283582089552,"y":0.1704545454545455},{"x":0.1417910447761194,"y":0.1704545454545455},{"x":0.1492537313432836,"y":0.1704545454545455},{"x":0.1567164179104478,"y":0.1704545454545455},{"x":0.1567164179104478,"y":0.1818181818181818},{"x":0.1567164179104478,"y":0.1931818181818182},{"x":0.1567164179104478,"y":0.2045454545454545},{"x":0.1567164179104478,"y":0.2159090909090909},{"x":0.1567164179104478,"y":0.2272727272727273},{"x":0.1567164179104478,"y":0.2386363636363636},{"x":0.1567164179104478,"y":0.25},{"x":0.1567164179104478,"y":0.2613636363636364},{"x":0.1567164179104478,"y":0.2727272727272727},{"x":0.1567164179104478,"y":0.2840909090909091},{"x":0.1567164179104478,"y":0.2954545454545455},{"x":0.1567164179104478,"y":0.3068181818181818},{"x":0.1567164179104478,"y":0.3181818181818182},{"x":0.1567164179104478,"y":0.3295454545454545},{"x":0.1567164179104478,"y":0.3409090909090909},{"x":0.1641791044776119,"y":0.3409090909090909},{"x":0.1716417910447761,"y":0.3409090909090909},{"x":0.1716417910447761,"y":0.3522727272727273},{"x":0.1791044776119403,"y":0.3522727272727273},{"x":0.1791044776119403,"y":0.3636363636363636},{"x":0.1865671641791045,"y":0.3636363636363636},{"x":0.1940298507462687,"y":0.3636363636363636},{"x":0.2014925373134328,"y":0.3636363636363636},{"x":0.2014925373134328,"y":0.375},{"x":0.2014925373134328,"y":0.3863636363636364},{"x":0.208955223880597,"y":0.3863636363636364},{"x":0.208955223880597,"y":0.3977272727272727},{"x":0.2164179104477612,"y":0.3977272727272727},{"x":0.2238805970149254,"y":0.3977272727272727},{"x":0.2313432835820896,"y":0.3977272727272727},{"x":0.2388059701492537,"y":0.3977272727272727},{"x":0.2462686567164179,"y":0.3977272727272727},{"x":0.2462686567164179,"y":0.4090909090909091},{"x":0.2537313432835821,"y":0.4090909090909091},{"x":0.2611940298507463,"y":0.4090909090909091},{"x":0.2686567164179104,"y":0.4090909090909091},{"x":0.2761194029850746,"y":0.4090909090909091},{"x":0.2835820895522388,"y":0.4090909090909091},{"x":0.2835820895522388,"y":0.4204545454545455},{"x":0.291044776119403,"y":0.4204545454545455},{"x":0.2985074626865672,"y":0.4204545454545455},{"x":0.3059701492537313,"y":0.4204545454545455},{"x":0.3134328358208955,"y":0.4204545454545455},{"x":0.3134328358208955,"y":0.4318181818181818},{"x":0.3134328358208955,"y":0.4431818181818182},{"x":0.3134328358208955,"y":0.4545454545454545},{"x":0.3134328358208955,"y":0.4659090909090909},{"x":0.3208955223880597,"y":0.4659090909090909},{"x":0.3283582089552239,"y":0.4659090909090909},{"x":0.3283582089552239,"y":0.4772727272727273},{"x":0.3283582089552239,"y":0.4886363636363636},{"x":0.3283582089552239,"y":0.5},{"x":0.3358208955223881,"y":0.5},{"x":0.3432835820895522,"y":0.5},{"x":0.3507462686567164,"y":0.5},{"x":0.3507462686567164,"y":0.5113636363636364},{"x":0.3582089552238806,"y":0.5113636363636364},{"x":0.3582089552238806,"y":0.5227272727272727},{"x":0.3656716417910448,"y":0.5227272727272727},{"x":0.373134328358209,"y":0.5227272727272727},{"x":0.373134328358209,"y":0.5340909090909091},{"x":0.3805970149253731,"y":0.5340909090909091},{"x":0.3880597014925373,"y":0.5340909090909091},{"x":0.3880597014925373,"y":0.5454545454545455},{"x":0.3955223880597015,"y":0.5454545454545455},{"x":0.3955223880597015,"y":0.5568181818181818},{"x":0.4029850746268657,"y":0.5568181818181818},{"x":0.4104477611940299,"y":0.5568181818181818},{"x":0.4104477611940299,"y":0.5681818181818182},{"x":0.4104477611940299,"y":0.5795454545454545},{"x":0.4104477611940299,"y":0.5909090909090909},{"x":0.4104477611940299,"y":0.6022727272727273},{"x":0.4104477611940299,"y":0.6136363636363636},{"x":0.4104477611940299,"y":0.625},{"x":0.4104477611940299,"y":0.6363636363636364},{"x":0.4104477611940299,"y":0.6477272727272727},{"x":0.4104477611940299,"y":0.6590909090909091},{"x":0.4104477611940299,"y":0.6704545454545455},{"x":0.4104477611940299,"y":0.6818181818181818},{"x":0.417910447761194,"y":0.6818181818181818},{"x":0.417910447761194,"y":0.6931818181818182},{"x":0.417910447761194,"y":0.7045454545454545},{"x":0.417910447761194,"y":0.7159090909090909},{"x":0.4253731343283582,"y":0.7159090909090909},{"x":0.4328358208955224,"y":0.7159090909090909},{"x":0.4328358208955224,"y":0.7272727272727273},{"x":0.4402985074626866,"y":0.7272727272727273},{"x":0.4477611940298507,"y":0.7272727272727273},{"x":0.4552238805970149,"y":0.7272727272727273},{"x":0.4626865671641791,"y":0.7272727272727273},{"x":0.4701492537313433,"y":0.7272727272727273},{"x":0.4776119402985075,"y":0.7272727272727273},{"x":0.4850746268656716,"y":0.7272727272727273},{"x":0.4925373134328358,"y":0.7272727272727273},{"x":0.5,"y":0.7272727272727273},{"x":0.5074626865671642,"y":0.7272727272727273},{"x":0.5149253731343284,"y":0.7272727272727273},{"x":0.5149253731343284,"y":0.7386363636363636},{"x":0.5149253731343284,"y":0.75},{"x":0.5149253731343284,"y":0.7613636363636364},{"x":0.5149253731343284,"y":0.7727272727272727},{"x":0.5149253731343284,"y":0.7840909090909091},{"x":0.5149253731343284,"y":0.7954545454545455},{"x":0.5149253731343284,"y":0.8068181818181818},{"x":0.5149253731343284,"y":0.8181818181818182},{"x":0.5223880597014925,"y":0.8181818181818182},{"x":0.5223880597014925,"y":0.8295454545454545},{"x":0.5298507462686567,"y":0.8295454545454545},{"x":0.5373134328358209,"y":0.8295454545454545},{"x":0.5447761194029851,"y":0.8295454545454545},{"x":0.5522388059701493,"y":0.8295454545454545},{"x":0.5597014925373134,"y":0.8295454545454545},{"x":0.5671641791044776,"y":0.8295454545454545},{"x":0.5671641791044776,"y":0.8409090909090909},{"x":0.5746268656716418,"y":0.8409090909090909},{"x":0.5746268656716418,"y":0.8522727272727273},{"x":0.582089552238806,"y":0.8522727272727273},{"x":0.5895522388059701,"y":0.8522727272727273},{"x":0.5970149253731343,"y":0.8522727272727273},{"x":0.6044776119402985,"y":0.8522727272727273},{"x":0.6119402985074627,"y":0.8522727272727273},{"x":0.6194029850746269,"y":0.8522727272727273},{"x":0.626865671641791,"y":0.8522727272727273},{"x":0.6343283582089552,"y":0.8522727272727273},{"x":0.6417910447761194,"y":0.8522727272727273},{"x":0.6492537313432836,"y":0.8522727272727273},{"x":0.6567164179104478,"y":0.8522727272727273},{"x":0.6641791044776119,"y":0.8522727272727273},{"x":0.6641791044776119,"y":0.8636363636363636},{"x":0.6641791044776119,"y":0.875},{"x":0.6716417910447761,"y":0.875},{"x":0.6791044776119403,"y":0.875},{"x":0.6865671641791045,"y":0.875},{"x":0.6865671641791045,"y":0.8863636363636364},{"x":0.6940298507462687,"y":0.8863636363636364},{"x":0.7014925373134328,"y":0.8863636363636364},{"x":0.708955223880597,"y":0.8863636363636364},{"x":0.7164179104477612,"y":0.8863636363636364},{"x":0.7238805970149254,"y":0.8863636363636364},{"x":0.7313432835820896,"y":0.8863636363636364},{"x":0.7388059701492538,"y":0.8863636363636364},{"x":0.746268656716418,"y":0.8863636363636364},{"x":0.753731343283582,"y":0.8863636363636364},{"x":0.7611940298507462,"y":0.8863636363636364},{"x":0.7686567164179104,"y":0.8863636363636364},{"x":0.7761194029850746,"y":0.8863636363636364},{"x":0.7835820895522388,"y":0.8863636363636364},{"x":0.7835820895522388,"y":0.8977272727272727},{"x":0.791044776119403,"y":0.8977272727272727},{"x":0.7985074626865672,"y":0.8977272727272727},{"x":0.8059701492537313,"y":0.8977272727272727},{"x":0.8134328358208955,"y":0.8977272727272727},{"x":0.8208955223880597,"y":0.8977272727272727},{"x":0.8283582089552239,"y":0.8977272727272727},{"x":0.8358208955223881,"y":0.8977272727272727},{"x":0.8432835820895522,"y":0.8977272727272727},{"x":0.8507462686567164,"y":0.8977272727272727},{"x":0.8507462686567164,"y":0.9090909090909091},{"x":0.8582089552238806,"y":0.9090909090909091},{"x":0.8656716417910448,"y":0.9090909090909091},{"x":0.8656716417910448,"y":0.9204545454545455},{"x":0.873134328358209,"y":0.9204545454545455},{"x":0.8805970149253731,"y":0.9204545454545455},{"x":0.8880597014925373,"y":0.9204545454545455},{"x":0.8955223880597015,"y":0.9204545454545455},{"x":0.9029850746268657,"y":0.9204545454545455},{"x":0.9104477611940299,"y":0.9204545454545455},{"x":0.917910447761194,"y":0.9204545454545455},{"x":0.9253731343283582,"y":0.9204545454545455},{"x":0.9328358208955224,"y":0.9204545454545455},{"x":0.9402985074626866,"y":0.9204545454545455},{"x":0.9477611940298507,"y":0.9204545454545455},{"x":0.9477611940298507,"y":0.9318181818181818},{"x":0.9552238805970149,"y":0.9318181818181818},{"x":0.9552238805970149,"y":0.9431818181818182},{"x":0.9626865671641791,"y":0.9431818181818182},{"x":0.9626865671641791,"y":0.9545454545454545},{"x":0.9701492537313433,"y":0.9545454545454545},{"x":0.9701492537313433,"y":0.9659090909090909},{"x":0.9776119402985075,"y":0.9659090909090909},{"x":0.9850746268656716,"y":0.9659090909090909},{"x":0.9850746268656716,"y":0.9772727272727273},{"x":0.9925373134328358,"y":0.9772727272727273},{"x":0.9925373134328358,"y":0.9886363636363636},{"x":1,"y":0.9886363636363636},{"x":1,"y":1}]}],"marks":[{"type":"line","from":{"data":"5b2e2048-3b0b-419e-8419-da481f162e3b"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"red"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"line","from":{"data":"38d4369b-ba63-4019-b1e4-52f8055fbbd1"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"green"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"line","from":{"data":"940fc5c9-2ab6-43d6-ada8-f0df572f8bef"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"blue"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"line","from":{"data":"57efb07d-73bd-4b12-90cb-2f71c3196dee"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"black"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:bottom 40, :top 10, :right 10, :left 55}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"5b2e2048-3b0b-419e-8419-da481f162e3b\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"5b2e2048-3b0b-419e-8419-da481f162e3b\", :field \"data.y\"}}], :axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :data ({:name \"5b2e2048-3b0b-419e-8419-da481f162e3b\", :values ({:x 1/142, :y 0} {:x 1/71, :y 0} {:x 3/142, :y 0} {:x 2/71, :y 0} {:x 5/142, :y 0} {:x 3/71, :y 0} {:x 7/142, :y 0} {:x 4/71, :y 0} {:x 9/142, :y 0} {:x 9/142, :y 1/80} {:x 9/142, :y 1/40} {:x 5/71, :y 1/40} {:x 11/142, :y 1/40} {:x 6/71, :y 1/40} {:x 6/71, :y 3/80} {:x 6/71, :y 1/20} {:x 6/71, :y 1/16} {:x 6/71, :y 3/40} {:x 13/142, :y 3/40} {:x 13/142, :y 7/80} {:x 7/71, :y 7/80} {:x 7/71, :y 1/10} {:x 7/71, :y 9/80} {:x 7/71, :y 1/8} {:x 7/71, :y 11/80} {:x 15/142, :y 11/80} {:x 8/71, :y 11/80} {:x 17/142, :y 11/80} {:x 17/142, :y 3/20} {:x 9/71, :y 3/20} {:x 19/142, :y 3/20} {:x 10/71, :y 3/20} {:x 21/142, :y 3/20} {:x 21/142, :y 13/80} {:x 21/142, :y 7/40} {:x 11/71, :y 7/40} {:x 11/71, :y 3/16} {:x 11/71, :y 1/5} {:x 23/142, :y 1/5} {:x 23/142, :y 17/80} {:x 23/142, :y 9/40} {:x 12/71, :y 9/40} {:x 12/71, :y 19/80} {:x 25/142, :y 19/80} {:x 13/71, :y 19/80} {:x 13/71, :y 1/4} {:x 13/71, :y 21/80} {:x 27/142, :y 21/80} {:x 14/71, :y 21/80} {:x 29/142, :y 21/80} {:x 29/142, :y 11/40} {:x 29/142, :y 23/80} {:x 29/142, :y 3/10} {:x 29/142, :y 5/16} {:x 29/142, :y 13/40} {:x 29/142, :y 27/80} {:x 15/71, :y 27/80} {:x 15/71, :y 7/20} {:x 31/142, :y 7/20} {:x 16/71, :y 7/20} {:x 33/142, :y 7/20} {:x 33/142, :y 29/80} {:x 33/142, :y 3/8} {:x 17/71, :y 3/8} {:x 35/142, :y 3/8} {:x 35/142, :y 31/80} {:x 35/142, :y 2/5} {:x 18/71, :y 2/5} {:x 18/71, :y 33/80} {:x 18/71, :y 17/40} {:x 37/142, :y 17/40} {:x 19/71, :y 17/40} {:x 39/142, :y 17/40} {:x 20/71, :y 17/40} {:x 41/142, :y 17/40} {:x 21/71, :y 17/40} {:x 43/142, :y 17/40} {:x 22/71, :y 17/40} {:x 45/142, :y 17/40} {:x 23/71, :y 17/40} {:x 47/142, :y 17/40} {:x 24/71, :y 17/40} {:x 49/142, :y 17/40} {:x 25/71, :y 17/40} {:x 51/142, :y 17/40} {:x 26/71, :y 17/40} {:x 26/71, :y 7/16} {:x 53/142, :y 7/16} {:x 27/71, :y 7/16} {:x 55/142, :y 7/16} {:x 55/142, :y 9/20} {:x 55/142, :y 37/80} {:x 55/142, :y 19/40} {:x 55/142, :y 39/80} {:x 55/142, :y 1/2} {:x 55/142, :y 41/80} {:x 55/142, :y 21/40} {:x 55/142, :y 43/80} {:x 28/71, :y 43/80} {:x 28/71, :y 11/20} {:x 57/142, :y 11/20} {:x 29/71, :y 11/20} {:x 59/142, :y 11/20} {:x 59/142, :y 9/16} {:x 59/142, :y 23/40} {:x 59/142, :y 47/80} {:x 59/142, :y 3/5} {:x 59/142, :y 49/80} {:x 30/71, :y 49/80} {:x 30/71, :y 5/8} {:x 61/142, :y 5/8} {:x 31/71, :y 5/8} {:x 63/142, :y 5/8} {:x 63/142, :y 51/80} {:x 63/142, :y 13/20} {:x 63/142, :y 53/80} {:x 63/142, :y 27/40} {:x 32/71, :y 27/40} {:x 65/142, :y 27/40} {:x 65/142, :y 11/16} {:x 65/142, :y 7/10} {:x 65/142, :y 57/80} {:x 65/142, :y 29/40} {:x 65/142, :y 59/80} {:x 33/71, :y 59/80} {:x 33/71, :y 3/4} {:x 67/142, :y 3/4} {:x 34/71, :y 3/4} {:x 34/71, :y 61/80} {:x 34/71, :y 31/40} {:x 34/71, :y 63/80} {:x 69/142, :y 63/80} {:x 69/142, :y 4/5} {:x 69/142, :y 13/16} {:x 69/142, :y 33/40} {:x 69/142, :y 67/80} {:x 69/142, :y 17/20} {:x 69/142, :y 69/80} {:x 35/71, :y 69/80} {:x 1/2, :y 69/80} {:x 36/71, :y 69/80} {:x 73/142, :y 69/80} {:x 37/71, :y 69/80} {:x 75/142, :y 69/80} {:x 38/71, :y 69/80} {:x 77/142, :y 69/80} {:x 39/71, :y 69/80} {:x 79/142, :y 69/80} {:x 40/71, :y 69/80} {:x 81/142, :y 69/80} {:x 41/71, :y 69/80} {:x 83/142, :y 69/80} {:x 42/71, :y 69/80} {:x 42/71, :y 7/8} {:x 85/142, :y 7/8} {:x 43/71, :y 7/8} {:x 43/71, :y 71/80} {:x 87/142, :y 71/80} {:x 44/71, :y 71/80} {:x 89/142, :y 71/80} {:x 45/71, :y 71/80} {:x 91/142, :y 71/80} {:x 46/71, :y 71/80} {:x 93/142, :y 71/80} {:x 47/71, :y 71/80} {:x 95/142, :y 71/80} {:x 48/71, :y 71/80} {:x 48/71, :y 9/10} {:x 97/142, :y 9/10} {:x 49/71, :y 9/10} {:x 99/142, :y 9/10} {:x 50/71, :y 9/10} {:x 50/71, :y 73/80} {:x 101/142, :y 73/80} {:x 51/71, :y 73/80} {:x 103/142, :y 73/80} {:x 52/71, :y 73/80} {:x 105/142, :y 73/80} {:x 53/71, :y 73/80} {:x 107/142, :y 73/80} {:x 54/71, :y 73/80} {:x 109/142, :y 73/80} {:x 55/71, :y 73/80} {:x 111/142, :y 73/80} {:x 56/71, :y 73/80} {:x 113/142, :y 73/80} {:x 57/71, :y 73/80} {:x 115/142, :y 73/80} {:x 58/71, :y 73/80} {:x 117/142, :y 73/80} {:x 59/71, :y 73/80} {:x 119/142, :y 73/80} {:x 60/71, :y 73/80} {:x 121/142, :y 73/80} {:x 61/71, :y 73/80} {:x 123/142, :y 73/80} {:x 62/71, :y 73/80} {:x 62/71, :y 37/40} {:x 125/142, :y 37/40} {:x 63/71, :y 37/40} {:x 127/142, :y 37/40} {:x 64/71, :y 37/40} {:x 64/71, :y 15/16} {:x 129/142, :y 15/16} {:x 65/71, :y 15/16} {:x 131/142, :y 15/16} {:x 66/71, :y 15/16} {:x 133/142, :y 15/16} {:x 133/142, :y 19/20} {:x 67/71, :y 19/20} {:x 135/142, :y 19/20} {:x 68/71, :y 19/20} {:x 68/71, :y 77/80} {:x 68/71, :y 39/40} {:x 137/142, :y 39/40} {:x 137/142, :y 79/80} {:x 69/71, :y 79/80} {:x 139/142, :y 79/80} {:x 70/71, :y 79/80} {:x 141/142, :y 79/80} {:x 1, :y 79/80} {:x 1, :y 1})} {:name \"38d4369b-ba63-4019-b1e4-52f8055fbbd1\", :values ({:x 1/136, :y 0} {:x 1/68, :y 0} {:x 3/136, :y 0} {:x 3/136, :y 1/86} {:x 1/34, :y 1/86} {:x 1/34, :y 1/43} {:x 5/136, :y 1/43} {:x 3/68, :y 1/43} {:x 3/68, :y 3/86} {:x 7/136, :y 3/86} {:x 1/17, :y 3/86} {:x 9/136, :y 3/86} {:x 5/68, :y 3/86} {:x 11/136, :y 3/86} {:x 11/136, :y 2/43} {:x 11/136, :y 5/86} {:x 11/136, :y 3/43} {:x 11/136, :y 7/86} {:x 3/34, :y 7/86} {:x 3/34, :y 4/43} {:x 3/34, :y 9/86} {:x 3/34, :y 5/43} {:x 3/34, :y 11/86} {:x 3/34, :y 6/43} {:x 3/34, :y 13/86} {:x 3/34, :y 7/43} {:x 3/34, :y 15/86} {:x 3/34, :y 8/43} {:x 3/34, :y 17/86} {:x 3/34, :y 9/43} {:x 13/136, :y 9/43} {:x 7/68, :y 9/43} {:x 15/136, :y 9/43} {:x 15/136, :y 19/86} {:x 2/17, :y 19/86} {:x 1/8, :y 19/86} {:x 1/8, :y 10/43} {:x 1/8, :y 21/86} {:x 1/8, :y 11/43} {:x 1/8, :y 23/86} {:x 1/8, :y 12/43} {:x 1/8, :y 25/86} {:x 1/8, :y 13/43} {:x 1/8, :y 27/86} {:x 1/8, :y 14/43} {:x 1/8, :y 29/86} {:x 9/68, :y 29/86} {:x 19/136, :y 29/86} {:x 19/136, :y 15/43} {:x 19/136, :y 31/86} {:x 19/136, :y 16/43} {:x 19/136, :y 33/86} {:x 19/136, :y 17/43} {:x 19/136, :y 35/86} {:x 19/136, :y 18/43} {:x 19/136, :y 37/86} {:x 19/136, :y 19/43} {:x 5/34, :y 19/43} {:x 5/34, :y 39/86} {:x 5/34, :y 20/43} {:x 5/34, :y 41/86} {:x 21/136, :y 41/86} {:x 21/136, :y 21/43} {:x 11/68, :y 21/43} {:x 11/68, :y 1/2} {:x 11/68, :y 22/43} {:x 11/68, :y 45/86} {:x 23/136, :y 45/86} {:x 3/17, :y 45/86} {:x 25/136, :y 45/86} {:x 13/68, :y 45/86} {:x 13/68, :y 23/43} {:x 27/136, :y 23/43} {:x 27/136, :y 47/86} {:x 27/136, :y 24/43} {:x 7/34, :y 24/43} {:x 29/136, :y 24/43} {:x 29/136, :y 49/86} {:x 29/136, :y 25/43} {:x 15/68, :y 25/43} {:x 31/136, :y 25/43} {:x 31/136, :y 51/86} {:x 4/17, :y 51/86} {:x 33/136, :y 51/86} {:x 1/4, :y 51/86} {:x 1/4, :y 26/43} {:x 1/4, :y 53/86} {:x 1/4, :y 27/43} {:x 1/4, :y 55/86} {:x 35/136, :y 55/86} {:x 35/136, :y 28/43} {:x 35/136, :y 57/86} {:x 9/34, :y 57/86} {:x 37/136, :y 57/86} {:x 37/136, :y 29/43} {:x 19/68, :y 29/43} {:x 19/68, :y 59/86} {:x 19/68, :y 30/43} {:x 19/68, :y 61/86} {:x 19/68, :y 31/43} {:x 19/68, :y 63/86} {:x 39/136, :y 63/86} {:x 5/17, :y 63/86} {:x 5/17, :y 32/43} {:x 5/17, :y 65/86} {:x 41/136, :y 65/86} {:x 41/136, :y 33/43} {:x 21/68, :y 33/43} {:x 43/136, :y 33/43} {:x 11/34, :y 33/43} {:x 45/136, :y 33/43} {:x 23/68, :y 33/43} {:x 23/68, :y 67/86} {:x 47/136, :y 67/86} {:x 6/17, :y 67/86} {:x 49/136, :y 67/86} {:x 25/68, :y 67/86} {:x 3/8, :y 67/86} {:x 3/8, :y 34/43} {:x 3/8, :y 69/86} {:x 13/34, :y 69/86} {:x 13/34, :y 35/43} {:x 13/34, :y 71/86} {:x 13/34, :y 36/43} {:x 53/136, :y 36/43} {:x 27/68, :y 36/43} {:x 55/136, :y 36/43} {:x 7/17, :y 36/43} {:x 57/136, :y 36/43} {:x 29/68, :y 36/43} {:x 59/136, :y 36/43} {:x 15/34, :y 36/43} {:x 61/136, :y 36/43} {:x 61/136, :y 73/86} {:x 31/68, :y 73/86} {:x 63/136, :y 73/86} {:x 8/17, :y 73/86} {:x 8/17, :y 37/43} {:x 8/17, :y 75/86} {:x 65/136, :y 75/86} {:x 33/68, :y 75/86} {:x 33/68, :y 38/43} {:x 67/136, :y 38/43} {:x 1/2, :y 38/43} {:x 69/136, :y 38/43} {:x 35/68, :y 38/43} {:x 71/136, :y 38/43} {:x 71/136, :y 77/86} {:x 9/17, :y 77/86} {:x 73/136, :y 77/86} {:x 37/68, :y 77/86} {:x 75/136, :y 77/86} {:x 19/34, :y 77/86} {:x 77/136, :y 77/86} {:x 39/68, :y 77/86} {:x 79/136, :y 77/86} {:x 10/17, :y 77/86} {:x 10/17, :y 39/43} {:x 81/136, :y 39/43} {:x 41/68, :y 39/43} {:x 83/136, :y 39/43} {:x 21/34, :y 39/43} {:x 21/34, :y 79/86} {:x 5/8, :y 79/86} {:x 43/68, :y 79/86} {:x 43/68, :y 40/43} {:x 87/136, :y 40/43} {:x 11/17, :y 40/43} {:x 89/136, :y 40/43} {:x 45/68, :y 40/43} {:x 91/136, :y 40/43} {:x 23/34, :y 40/43} {:x 93/136, :y 40/43} {:x 93/136, :y 81/86} {:x 47/68, :y 81/86} {:x 95/136, :y 81/86} {:x 12/17, :y 81/86} {:x 97/136, :y 81/86} {:x 97/136, :y 41/43} {:x 49/68, :y 41/43} {:x 99/136, :y 41/43} {:x 25/34, :y 41/43} {:x 101/136, :y 41/43} {:x 3/4, :y 41/43} {:x 103/136, :y 41/43} {:x 13/17, :y 41/43} {:x 105/136, :y 41/43} {:x 105/136, :y 83/86} {:x 53/68, :y 83/86} {:x 107/136, :y 83/86} {:x 107/136, :y 42/43} {:x 27/34, :y 42/43} {:x 109/136, :y 42/43} {:x 55/68, :y 42/43} {:x 111/136, :y 42/43} {:x 14/17, :y 42/43} {:x 113/136, :y 42/43} {:x 57/68, :y 42/43} {:x 115/136, :y 42/43} {:x 29/34, :y 42/43} {:x 29/34, :y 85/86} {:x 117/136, :y 85/86} {:x 59/68, :y 85/86} {:x 7/8, :y 85/86} {:x 15/17, :y 85/86} {:x 121/136, :y 85/86} {:x 61/68, :y 85/86} {:x 123/136, :y 85/86} {:x 31/34, :y 85/86} {:x 125/136, :y 85/86} {:x 63/68, :y 85/86} {:x 127/136, :y 85/86} {:x 16/17, :y 85/86} {:x 16/17, :y 1} {:x 129/136, :y 1} {:x 65/68, :y 1} {:x 131/136, :y 1} {:x 33/34, :y 1} {:x 133/136, :y 1} {:x 67/68, :y 1} {:x 135/136, :y 1} {:x 1, :y 1})} {:name \"940fc5c9-2ab6-43d6-ada8-f0df572f8bef\", :values ({:x 1/135, :y 0} {:x 2/135, :y 0} {:x 1/45, :y 0} {:x 4/135, :y 0} {:x 1/27, :y 0} {:x 2/45, :y 0} {:x 2/45, :y 1/87} {:x 2/45, :y 2/87} {:x 7/135, :y 2/87} {:x 8/135, :y 2/87} {:x 1/15, :y 2/87} {:x 2/27, :y 2/87} {:x 11/135, :y 2/87} {:x 11/135, :y 1/29} {:x 4/45, :y 1/29} {:x 13/135, :y 1/29} {:x 14/135, :y 1/29} {:x 1/9, :y 1/29} {:x 16/135, :y 1/29} {:x 17/135, :y 1/29} {:x 2/15, :y 1/29} {:x 19/135, :y 1/29} {:x 19/135, :y 4/87} {:x 4/27, :y 4/87} {:x 7/45, :y 4/87} {:x 22/135, :y 4/87} {:x 22/135, :y 5/87} {:x 22/135, :y 2/29} {:x 23/135, :y 2/29} {:x 23/135, :y 7/87} {:x 23/135, :y 8/87} {:x 23/135, :y 3/29} {:x 23/135, :y 10/87} {:x 8/45, :y 10/87} {:x 5/27, :y 10/87} {:x 26/135, :y 10/87} {:x 1/5, :y 10/87} {:x 28/135, :y 10/87} {:x 29/135, :y 10/87} {:x 2/9, :y 10/87} {:x 31/135, :y 10/87} {:x 32/135, :y 10/87} {:x 11/45, :y 10/87} {:x 34/135, :y 10/87} {:x 7/27, :y 10/87} {:x 4/15, :y 10/87} {:x 4/15, :y 11/87} {:x 37/135, :y 11/87} {:x 38/135, :y 11/87} {:x 38/135, :y 4/29} {:x 13/45, :y 4/29} {:x 8/27, :y 4/29} {:x 8/27, :y 13/87} {:x 8/27, :y 14/87} {:x 41/135, :y 14/87} {:x 41/135, :y 5/29} {:x 41/135, :y 16/87} {:x 41/135, :y 17/87} {:x 14/45, :y 17/87} {:x 43/135, :y 17/87} {:x 44/135, :y 17/87} {:x 1/3, :y 17/87} {:x 1/3, :y 6/29} {:x 1/3, :y 19/87} {:x 46/135, :y 19/87} {:x 46/135, :y 20/87} {:x 47/135, :y 20/87} {:x 47/135, :y 7/29} {:x 16/45, :y 7/29} {:x 16/45, :y 22/87} {:x 16/45, :y 23/87} {:x 16/45, :y 8/29} {:x 16/45, :y 25/87} {:x 16/45, :y 26/87} {:x 16/45, :y 9/29} {:x 16/45, :y 28/87} {:x 16/45, :y 1/3} {:x 16/45, :y 10/29} {:x 16/45, :y 31/87} {:x 16/45, :y 32/87} {:x 16/45, :y 11/29} {:x 16/45, :y 34/87} {:x 16/45, :y 35/87} {:x 49/135, :y 35/87} {:x 10/27, :y 35/87} {:x 17/45, :y 35/87} {:x 17/45, :y 12/29} {:x 52/135, :y 12/29} {:x 53/135, :y 12/29} {:x 2/5, :y 12/29} {:x 11/27, :y 12/29} {:x 56/135, :y 12/29} {:x 19/45, :y 12/29} {:x 58/135, :y 12/29} {:x 59/135, :y 12/29} {:x 4/9, :y 12/29} {:x 61/135, :y 12/29} {:x 62/135, :y 12/29} {:x 7/15, :y 12/29} {:x 64/135, :y 12/29} {:x 13/27, :y 12/29} {:x 22/45, :y 12/29} {:x 22/45, :y 37/87} {:x 67/135, :y 37/87} {:x 68/135, :y 37/87} {:x 23/45, :y 37/87} {:x 14/27, :y 37/87} {:x 71/135, :y 37/87} {:x 8/15, :y 37/87} {:x 73/135, :y 37/87} {:x 74/135, :y 37/87} {:x 5/9, :y 37/87} {:x 5/9, :y 38/87} {:x 76/135, :y 38/87} {:x 77/135, :y 38/87} {:x 26/45, :y 38/87} {:x 79/135, :y 38/87} {:x 16/27, :y 38/87} {:x 3/5, :y 38/87} {:x 82/135, :y 38/87} {:x 83/135, :y 38/87} {:x 28/45, :y 38/87} {:x 17/27, :y 38/87} {:x 86/135, :y 38/87} {:x 29/45, :y 38/87} {:x 88/135, :y 38/87} {:x 88/135, :y 13/29} {:x 89/135, :y 13/29} {:x 2/3, :y 13/29} {:x 91/135, :y 13/29} {:x 92/135, :y 13/29} {:x 31/45, :y 13/29} {:x 31/45, :y 40/87} {:x 94/135, :y 40/87} {:x 19/27, :y 40/87} {:x 32/45, :y 40/87} {:x 97/135, :y 40/87} {:x 98/135, :y 40/87} {:x 11/15, :y 40/87} {:x 20/27, :y 40/87} {:x 101/135, :y 40/87} {:x 34/45, :y 40/87} {:x 103/135, :y 40/87} {:x 104/135, :y 40/87} {:x 7/9, :y 40/87} {:x 106/135, :y 40/87} {:x 107/135, :y 40/87} {:x 4/5, :y 40/87} {:x 109/135, :y 40/87} {:x 22/27, :y 40/87} {:x 37/45, :y 40/87} {:x 37/45, :y 41/87} {:x 37/45, :y 14/29} {:x 37/45, :y 43/87} {:x 37/45, :y 44/87} {:x 37/45, :y 15/29} {:x 37/45, :y 46/87} {:x 37/45, :y 47/87} {:x 37/45, :y 16/29} {:x 112/135, :y 16/29} {:x 113/135, :y 16/29} {:x 113/135, :y 49/87} {:x 113/135, :y 50/87} {:x 113/135, :y 17/29} {:x 38/45, :y 17/29} {:x 23/27, :y 17/29} {:x 23/27, :y 52/87} {:x 23/27, :y 53/87} {:x 23/27, :y 18/29} {:x 116/135, :y 18/29} {:x 116/135, :y 55/87} {:x 13/15, :y 55/87} {:x 118/135, :y 55/87} {:x 119/135, :y 55/87} {:x 8/9, :y 55/87} {:x 121/135, :y 55/87} {:x 121/135, :y 56/87} {:x 122/135, :y 56/87} {:x 41/45, :y 56/87} {:x 124/135, :y 56/87} {:x 124/135, :y 19/29} {:x 25/27, :y 19/29} {:x 25/27, :y 2/3} {:x 25/27, :y 59/87} {:x 25/27, :y 20/29} {:x 25/27, :y 61/87} {:x 14/15, :y 61/87} {:x 14/15, :y 62/87} {:x 14/15, :y 21/29} {:x 14/15, :y 64/87} {:x 14/15, :y 65/87} {:x 14/15, :y 22/29} {:x 127/135, :y 22/29} {:x 128/135, :y 22/29} {:x 43/45, :y 22/29} {:x 43/45, :y 67/87} {:x 43/45, :y 68/87} {:x 26/27, :y 68/87} {:x 131/135, :y 68/87} {:x 131/135, :y 23/29} {:x 131/135, :y 70/87} {:x 131/135, :y 71/87} {:x 131/135, :y 24/29} {:x 131/135, :y 73/87} {:x 131/135, :y 74/87} {:x 131/135, :y 25/29} {:x 131/135, :y 76/87} {:x 131/135, :y 77/87} {:x 131/135, :y 26/29} {:x 44/45, :y 26/29} {:x 44/45, :y 79/87} {:x 44/45, :y 80/87} {:x 44/45, :y 27/29} {:x 44/45, :y 82/87} {:x 44/45, :y 83/87} {:x 133/135, :y 83/87} {:x 133/135, :y 28/29} {:x 134/135, :y 28/29} {:x 134/135, :y 85/87} {:x 134/135, :y 86/87} {:x 134/135, :y 1} {:x 1, :y 1})} {:name \"57efb07d-73bd-4b12-90cb-2f71c3196dee\", :values ({:x 1/134, :y 0} {:x 1/134, :y 1/88} {:x 1/67, :y 1/88} {:x 3/134, :y 1/88} {:x 3/134, :y 1/44} {:x 3/134, :y 3/88} {:x 2/67, :y 3/88} {:x 5/134, :y 3/88} {:x 5/134, :y 1/22} {:x 5/134, :y 5/88} {:x 3/67, :y 5/88} {:x 7/134, :y 5/88} {:x 4/67, :y 5/88} {:x 4/67, :y 3/44} {:x 9/134, :y 3/44} {:x 9/134, :y 7/88} {:x 9/134, :y 1/11} {:x 9/134, :y 9/88} {:x 9/134, :y 5/44} {:x 5/67, :y 5/44} {:x 11/134, :y 5/44} {:x 6/67, :y 5/44} {:x 6/67, :y 1/8} {:x 6/67, :y 3/22} {:x 13/134, :y 3/22} {:x 13/134, :y 13/88} {:x 7/67, :y 13/88} {:x 7/67, :y 7/44} {:x 7/67, :y 15/88} {:x 15/134, :y 15/88} {:x 8/67, :y 15/88} {:x 17/134, :y 15/88} {:x 9/67, :y 15/88} {:x 19/134, :y 15/88} {:x 10/67, :y 15/88} {:x 21/134, :y 15/88} {:x 21/134, :y 2/11} {:x 21/134, :y 17/88} {:x 21/134, :y 9/44} {:x 21/134, :y 19/88} {:x 21/134, :y 5/22} {:x 21/134, :y 21/88} {:x 21/134, :y 1/4} {:x 21/134, :y 23/88} {:x 21/134, :y 3/11} {:x 21/134, :y 25/88} {:x 21/134, :y 13/44} {:x 21/134, :y 27/88} {:x 21/134, :y 7/22} {:x 21/134, :y 29/88} {:x 21/134, :y 15/44} {:x 11/67, :y 15/44} {:x 23/134, :y 15/44} {:x 23/134, :y 31/88} {:x 12/67, :y 31/88} {:x 12/67, :y 4/11} {:x 25/134, :y 4/11} {:x 13/67, :y 4/11} {:x 27/134, :y 4/11} {:x 27/134, :y 3/8} {:x 27/134, :y 17/44} {:x 14/67, :y 17/44} {:x 14/67, :y 35/88} {:x 29/134, :y 35/88} {:x 15/67, :y 35/88} {:x 31/134, :y 35/88} {:x 16/67, :y 35/88} {:x 33/134, :y 35/88} {:x 33/134, :y 9/22} {:x 17/67, :y 9/22} {:x 35/134, :y 9/22} {:x 18/67, :y 9/22} {:x 37/134, :y 9/22} {:x 19/67, :y 9/22} {:x 19/67, :y 37/88} {:x 39/134, :y 37/88} {:x 20/67, :y 37/88} {:x 41/134, :y 37/88} {:x 21/67, :y 37/88} {:x 21/67, :y 19/44} {:x 21/67, :y 39/88} {:x 21/67, :y 5/11} {:x 21/67, :y 41/88} {:x 43/134, :y 41/88} {:x 22/67, :y 41/88} {:x 22/67, :y 21/44} {:x 22/67, :y 43/88} {:x 22/67, :y 1/2} {:x 45/134, :y 1/2} {:x 23/67, :y 1/2} {:x 47/134, :y 1/2} {:x 47/134, :y 45/88} {:x 24/67, :y 45/88} {:x 24/67, :y 23/44} {:x 49/134, :y 23/44} {:x 25/67, :y 23/44} {:x 25/67, :y 47/88} {:x 51/134, :y 47/88} {:x 26/67, :y 47/88} {:x 26/67, :y 6/11} {:x 53/134, :y 6/11} {:x 53/134, :y 49/88} {:x 27/67, :y 49/88} {:x 55/134, :y 49/88} {:x 55/134, :y 25/44} {:x 55/134, :y 51/88} {:x 55/134, :y 13/22} {:x 55/134, :y 53/88} {:x 55/134, :y 27/44} {:x 55/134, :y 5/8} {:x 55/134, :y 7/11} {:x 55/134, :y 57/88} {:x 55/134, :y 29/44} {:x 55/134, :y 59/88} {:x 55/134, :y 15/22} {:x 28/67, :y 15/22} {:x 28/67, :y 61/88} {:x 28/67, :y 31/44} {:x 28/67, :y 63/88} {:x 57/134, :y 63/88} {:x 29/67, :y 63/88} {:x 29/67, :y 8/11} {:x 59/134, :y 8/11} {:x 30/67, :y 8/11} {:x 61/134, :y 8/11} {:x 31/67, :y 8/11} {:x 63/134, :y 8/11} {:x 32/67, :y 8/11} {:x 65/134, :y 8/11} {:x 33/67, :y 8/11} {:x 1/2, :y 8/11} {:x 34/67, :y 8/11} {:x 69/134, :y 8/11} {:x 69/134, :y 65/88} {:x 69/134, :y 3/4} {:x 69/134, :y 67/88} {:x 69/134, :y 17/22} {:x 69/134, :y 69/88} {:x 69/134, :y 35/44} {:x 69/134, :y 71/88} {:x 69/134, :y 9/11} {:x 35/67, :y 9/11} {:x 35/67, :y 73/88} {:x 71/134, :y 73/88} {:x 36/67, :y 73/88} {:x 73/134, :y 73/88} {:x 37/67, :y 73/88} {:x 75/134, :y 73/88} {:x 38/67, :y 73/88} {:x 38/67, :y 37/44} {:x 77/134, :y 37/44} {:x 77/134, :y 75/88} {:x 39/67, :y 75/88} {:x 79/134, :y 75/88} {:x 40/67, :y 75/88} {:x 81/134, :y 75/88} {:x 41/67, :y 75/88} {:x 83/134, :y 75/88} {:x 42/67, :y 75/88} {:x 85/134, :y 75/88} {:x 43/67, :y 75/88} {:x 87/134, :y 75/88} {:x 44/67, :y 75/88} {:x 89/134, :y 75/88} {:x 89/134, :y 19/22} {:x 89/134, :y 7/8} {:x 45/67, :y 7/8} {:x 91/134, :y 7/8} {:x 46/67, :y 7/8} {:x 46/67, :y 39/44} {:x 93/134, :y 39/44} {:x 47/67, :y 39/44} {:x 95/134, :y 39/44} {:x 48/67, :y 39/44} {:x 97/134, :y 39/44} {:x 49/67, :y 39/44} {:x 99/134, :y 39/44} {:x 50/67, :y 39/44} {:x 101/134, :y 39/44} {:x 51/67, :y 39/44} {:x 103/134, :y 39/44} {:x 52/67, :y 39/44} {:x 105/134, :y 39/44} {:x 105/134, :y 79/88} {:x 53/67, :y 79/88} {:x 107/134, :y 79/88} {:x 54/67, :y 79/88} {:x 109/134, :y 79/88} {:x 55/67, :y 79/88} {:x 111/134, :y 79/88} {:x 56/67, :y 79/88} {:x 113/134, :y 79/88} {:x 57/67, :y 79/88} {:x 57/67, :y 10/11} {:x 115/134, :y 10/11} {:x 58/67, :y 10/11} {:x 58/67, :y 81/88} {:x 117/134, :y 81/88} {:x 59/67, :y 81/88} {:x 119/134, :y 81/88} {:x 60/67, :y 81/88} {:x 121/134, :y 81/88} {:x 61/67, :y 81/88} {:x 123/134, :y 81/88} {:x 62/67, :y 81/88} {:x 125/134, :y 81/88} {:x 63/67, :y 81/88} {:x 127/134, :y 81/88} {:x 127/134, :y 41/44} {:x 64/67, :y 41/44} {:x 64/67, :y 83/88} {:x 129/134, :y 83/88} {:x 129/134, :y 21/22} {:x 65/67, :y 21/22} {:x 65/67, :y 85/88} {:x 131/134, :y 85/88} {:x 66/67, :y 85/88} {:x 66/67, :y 43/44} {:x 133/134, :y 43/44} {:x 133/134, :y 87/88} {:x 1, :y 87/88} {:x 1, :y 1})}), :marks ({:type \"line\", :from {:data \"5b2e2048-3b0b-419e-8419-da481f162e3b\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"red\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"line\", :from {:data \"38d4369b-ba63-4019-b1e4-52f8055fbbd1\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"green\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"line\", :from {:data \"940fc5c9-2ab6-43d6-ada8-f0df572f8bef\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"blue\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"line\", :from {:data \"57efb07d-73bd-4b12-90cb-2f71c3196dee\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"black\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}})}}"}
;; <=

;; **
;;; Generate predictions using the model. Optionally, print out the predictions in a submission-ready format.
;; **

;; @@
(def predictions (regression-predict model (map rest test)))

;(println "PassengerId,Survived")
;(doseq [[id survival] (map (fn [t p] [(first t) p]) test predictions)]
;  (let [survival (if (> survival threshold) 1 0)]
;    (println (str id "," survival))))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;lambda-ml.examples.kaggle.titanic.worksheet/predictions</span>","value":"#'lambda-ml.examples.kaggle.titanic.worksheet/predictions"}
;; <=

;; @@

;; @@
